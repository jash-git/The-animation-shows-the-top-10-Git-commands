function initNotifications(){fetchNotificationsCount(),markNotificationsAsRead(),initReactions(),listenForNotificationsBellClick(),initPagination(),initLoadMoreButton()}function markNotificationsAsRead(){setTimeout(function(){if(document.getElementById("notifications-container")){var e,t=window.location.pathname.split("/"),n=parseInt(t[t.length-1].replace(/[^0-9]/g,""),10);(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){};var o=document.querySelector("meta[name='csrf-token']").content;Number.isInteger(n)?e.open("Post","/notifications/reads?org_id="+n,!0):e.open("Post","/notifications/reads",!0),e.setRequestHeader("X-CSRF-Token",o),e.send()}},450)}function fetchNotificationsCount(){null==document.getElementById("notifications-container")&&checkUserLoggedIn()&&instantClick&&(InstantClick.removeExpiredKeys("force"),setTimeout(function(){InstantClick.preload(document.getElementById("notifications-link").href,"force"),InstantClick.preload(document.getElementById("connect-link").href,"force")},30))}function initReactions(){setTimeout(function(){if(document.getElementById("notifications-container")){for(var e=document.getElementsByClassName("reaction-button"),t=0;t<e.length;t++){e[t].onclick=function(e){function t(e){"create"===e.result?n.classList.add("reacted"):n.classList.remove("reacted")}e.preventDefault(),sendHapticMessage("medium");var n=this;n.classList.add("reacted");var o=new FormData;o.append("reactable_type",n.dataset.reactableType),o.append("category",n.dataset.category),o.append("reactable_id",n.dataset.reactableId),getCsrfToken().then(sendFetch("reaction-creation",o)).then(function(e){200===e.status&&e.json().then(t)})}}for(e=document.getElementsByClassName("toggle-reply-form"),t=0;t<e.length;t++){e[t].onclick=function(e){e.preventDefault();var t=this;document.getElementById("comment-form-for-"+t.dataset.reactableId).classList.add("showing"),t.innerHTML="",setTimeout(function(){document.getElementById("comment-textarea-for-"+t.dataset.reactableId).focus()},30)}}}},180)}function listenForNotificationsBellClick(){setTimeout(function(){document.getElementById("notifications-link").onclick=function(){document.getElementById("notifications-number").classList.add("hidden")}},180)}function initPagination(){const e=document.getElementsByClassName("notifications-paginator");if(e&&e.length>0){const t=e[e.length-1];t&&window.fetch(t.dataset.paginationPath,{method:"GET",credentials:"same-origin"}).then(function(e){200===e.status&&e.text().then(function(e){const n=e.trim();if(n){const e=document.getElementById("articles-list"),o=document.createElement("div");o.innerHTML=n,t.remove(),e.append(o),initReactions()}else{const e=document.getElementById("load-more-button");e&&(e.style.display="none"),t.remove()}})})}}function initLoadMoreButton(){const e=document.getElementById("load-more-button");e&&e.addEventListener("click",initPagination)}function fetchNext(e,t,n){var o=JSON.parse(e.dataset.params),r=Object.keys(o).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o[e])}).join("&");if(!(r.indexOf("q=")>-1)){var i=(t+"?page="+nextPage+"&"+r+"&signature="+parseInt(Date.now()/4e5,10)).replace("&&","&");window.fetch(i).then(function(e){e.json().then(function(e){nextPage+=1,n(e),0===e.length&&(document.getElementById("loading-articles").style.display="none",done=!0)})})["catch"](function(e){console.log(e)})}}function insertNext(e,t){return function(n){document.getElementById(e.listId||"sublist");var o="";n.forEach(function(n){if(!document.getElementById((e.elId||"element")+"-"+n.id)){var r=t(n);o+=r}});document.documentElement.scrollHeight,document.body.scrollTop;var r=document.createElement("div");r.innerHTML=o;var i=document.getElementsByClassName("single-article");insertAfter(r,i[i.length-1]),nextPage>0&&(fetching=!1)}}function buildFollowsHTML(e){return'<div id="follows-'+e.id+'" class="single-article">\n  <a href="'+e.path+'" class="block-link">\n    <h2>\n      <img alt="'+e.username+' profile image" src="'+e.profile_image+'" />\n        '+e.name+'\n      <span class="dashboard-username">@'+e.username+"</span>\n    </h2>\n  </a>\n</div>"}function buildTagsHTML(e){var t="";return e.points<0&&-1===negativeFollow&&(t+="<h2>Negative Tags (anti-follows)</h2>",negativeFollow=0),t+'<div id="follows-'+e.id+'" class="single-article" style="border: 1px solid '+e.color+";box-shadow: 3px 3px 0px "+e.color+'">\n   <h2>\n     <a href="/t/'+e.name+'">\n       '+e.name+'\n     </a>\n     <form class="edit_follow" id="edit_follow_'+e.id+'" action="/follows/'+e.id+'" accept-charset="UTF-8" method="post">\n       <input name="utf8" type="hidden" value="\u2713">\n       <input type="hidden" name="_method" value="patch">\n       <input type="hidden" name="authenticity_token" value="'+e.token+'">\n       <label for="follow_points">Follow Weight:</label>\n       <input step="any" required="required" type="number" value="'+e.points+'" name="follow[points]" id="follow_points">\n       <input type="submit" name="commit" value="Submit">\n     </form>\n   </h2>\n</div>'}function fetchNextFollowingPage(e){var t=JSON.parse(e.dataset.params).action;t.includes("users")?fetchNext(e,"/followings/users",insertNext({elId:"follows"},buildFollowsHTML)):t.includes("podcasts")?fetchNext(e,"/followings/podcasts",insertNext({elId:"follows"},buildFollowsHTML)):t.includes("organizations")?fetchNext(e,"/followings/organizations",insertNext({elId:"follows"},buildFollowsHTML)):fetchNext(e,"/followings/tags",insertNext({elId:"follows"},buildTagsHTML))}function fetchNextFollowersPage(e){fetchNext(e,"/api/followers/users",insertNext({elId:"follows"},buildFollowsHTML))}function buildVideoArticleHTML(e){return'<a class="single-video-article single-article" href="'+e.path+'" id="video-article-'+e.id+'">\n  <div class="video-image" style="background-image: url('+e.cloudinary_video_url+')">\n     <span class="video-timestamp">'+e.video_duration_in_minutes+"</span>\n   </div>\n   <p><strong>"+e.title+"</strong></p>\n  <p>"+e.user.name+"</p>\n</a>"}function insertVideos(e){document.getElementById("subvideos");var t="";e.forEach(function(e){if(!document.getElementById("video-article-"+e.id)){var n=buildVideoArticleHTML(e);t+=n}});document.documentElement.scrollHeight,document.body.scrollTop;var n=document.createElement("div");n.innerHTML=t,n.className+="video-collection";var o=document.getElementsByClassName("single-article");insertAfter(n,o[o.length-1]),nextPage>0&&(fetching=!1)}function fetchNextVideoPage(e){fetchNext(e,"/api/videos",insertVideos)}function insertArticles(e){document.getElementById("substories");var t="",n=document.getElementById("home-articles-object");n&&(n.outerHTML=""),e.forEach(function(e){var n=document.getElementById("article-link-"+e.id);if(!["/","/top/week","/top/month","/top/year","/top/infinity","/latest"].includes(window.location.pathname)&&n&&n.parentElement&&n.parentElement.classList.contains("single-article-small-pic")&&!document.getElementById("video-player-"+e.id))n.parentElement.outerHTML=buildArticleHTML(e);else if(!n){var o=buildArticleHTML(e);t+=o,initializeReadingListIcons()}});document.documentElement.scrollHeight,document.body.scrollTop;var o=document.createElement("div");o.innerHTML=t;var r=document.getElementsByClassName("single-article");insertAfter(o,r[r.length-1]),nextPage>0&&(fetching=!1)}function fetchNextPodcastPage(e){fetchNext(e,"/api/podcast_episodes",insertArticles)}function paginate(e,t){var n=[];e&&e.length>0&&n.push(e);var o,r={hitsPerPage:15,page:nextPage,attributesToHighlight:[],tagFilters:n,filters:"true"===t?"approved:true":""},i=document.getElementById("index-container");if("base-feed"===i.dataset.feed)o=client.initIndex("ordered_articles_production");else if("latest"===i.dataset.feed)o=client.initIndex("ordered_articles_by_published_at_production");else{var a="true"===t?" AND ":"";r.filters+=a+"published_at_int > "+i.dataset.articlesSince,o=client.initIndex("ordered_articles_by_positive_reactions_count_production")}o.search("*",r).then(function(e){nextPage+=1,insertArticles(e.hits);const t=new CustomEvent("checkBlockedContent");window.dispatchEvent(t),initializeReadingListIcons(),0===e.hits.length&&(document.getElementById("loading-articles").style.display="none",done=!0)})}function fetchNextPageIfNearBottom(){var e=document.getElementById("index-container");if(e&&!document.getElementById("query-wrapper")){var t,n,o=e.dataset.which;"podcast-episodes"===o?(n="articles-list",t=function(){fetchNextPodcastPage(e)}):"videos"===o?(n="video-collection",t=function(){fetchNextVideoPage(e)}):"followers"===o?(n="user-dashboard",t=function(){fetchNextFollowersPage(e)}):"following"===o?(n="user-dashboard",t=function(){fetchNextFollowingPage(e)}):(n="articles-list",t=function(){paginate(e.dataset.tag,e.dataset.requiresApproval)});var r=document.getElementById(n);!done&&!fetching&&window.scrollY>r.scrollHeight-3700&&(fetching=!0,t())}}function checkIfNearBottomOfPage(){client=algoliasearch("YE5Y9R600C","MzE4MmYwMjVkNjBkOTI0N2M3NGMwYjE0NWY5YjE2NjgwNTc4MWY1ZGEzN2Q2MGEyNjRiZWMxYWE0N2M5ZDFkMXJlc3RyaWN0SW5kaWNlcz1zZWFyY2hhYmxlc19wcm9kdWN0aW9uJTJDb3JkZXJlZF9hcnRpY2xlc19wcm9kdWN0aW9uJTJDb3JkZXJlZF9hcnRpY2xlc19ieV9wdWJsaXNoZWRfYXRfcHJvZHVjdGlvbiUyQ29yZGVyZWRfYXJ0aWNsZXNfYnlfcG9zaXRpdmVfcmVhY3Rpb25zX2NvdW50X3Byb2R1Y3Rpb24="),document.getElementsByClassName("single-article").length<2||window.location.search.indexOf("q=")>-1?(document.getElementById("loading-articles").style.display="none",done=!0):document.getElementById("loading-articles").style.display="block",fetchNextPageIfNearBottom(),setInterval(function(){fetchNextPageIfNearBottom()},210)}function initScrolling(){document.getElementById("index-container")&&(initScrolling.called=!0,checkIfNearBottomOfPage())}function initializeAdditionalContentBoxes(){var e=document.getElementById("additional-content-area");if(e){var t=(new Date).getTime().toString().substring(0,4),n=userData(),o="include_sponsors";n&&!n.display_sponsors&&(o="do_not_include_sponsors"),window.fetch("/additional_content_boxes?article_id="+e.dataset.articleId+"&signature="+t+"&state="+o,{method:"GET",credentials:"same-origin"}).then(t=>{200===t.status&&t.text().then(t=>{e.innerHTML=t,initializeReadingListIcons(),initializeAllFollowButts(),initializeSponsorshipVisibility()})})}}function showChatModal(e){e.style.display="block",document.getElementById("new-message").focus()}function hideChatModal(e){e.style.display="none"}function toggleModal(){var e=document.querySelector(".modal");"none"===e.style.display?showChatModal(e):hideChatModal(e)}function initModal(){var e=document.querySelector(".modal");e.querySelector(".close-modal").addEventListener("click",toggleModal),e.querySelector(".overlay").addEventListener("click",toggleModal)}function handleChatButtonPress(e){var t=document.getElementById("new-message").value,n=JSON.parse(e.dataset.info),o=new FormData;0!==t.replace(/\s/g,"").length&&(o.append("user_id",n.id),o.append("message",t),o.append("controller","chat_channels"),getCsrfToken().then(sendFetch("chat-creation",o)).then(()=>{window.location.href=`/connect/@${n.username}`}))}function addButtonClickHandle(e,t,n){var o=document.getElementById("user-connect-redirect"),r=document.getElementById("new-message-form");t.classList.add("showing"),"open"===n.showChat&&"mutual"!==e?(o.removeAttribute("href"),t.addEventListener("click",toggleModal),t.style.display="initial",o.style.display="initial",r.onsubmit=(()=>(handleChatButtonPress(r),!1))):"mutual"===e&&(t.removeEventListener("click",toggleModal),t.style.display="initial",o.style.display="initial")}function fetchButton(e,t){var n;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=(()=>{n.readyState===XMLHttpRequest.DONE&&200===n.status&&addButtonClickHandle(n.response,e,t)}),n.open("GET","/follows/"+t.id+"?followable_type="+t.className),n.send()}function initializeChatButton(e,t){var n=userData();null!==n&&n.id!==t.id&&fetchButton(e,t)}function initializeAllChatButtons(){var e,t=document.getElementsByClassName("chat-action-button"),n=document.getElementById("new-message-form");if(n){var o=JSON.parse(n.dataset.info);for(initModal(),e=0;e<t.length;e+=1)initializeChatButton(t[e],o)}}function initializeAllFollowButts(){for(var e=document.getElementsByClassName("follow-action-button"),t=0;t<e.length;t++)initializeFollowButt(e[t])}function initializeFollowButt(e){var t=userData(),n=JSON.parse(e.dataset.info);"logged-out"!==document.getElementsByTagName("body")[0].getAttribute("data-user-status")?"Tag"===n.className&&t?handleTagButtAssignment(t,e,n):"fetched"!==e.dataset.fetched&&fetchButt(e,n):addModalEventListener(e)}function addModalEventListener(e){assignState(e,"login"),e.onclick=function(e){e.preventDefault(),showModal("follow-button")}}function fetchButt(e,t){var n;e.dataset.fetched="fetched",(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&200===n.status&&addButtClickHandle(n.response,e)},n.open("GET","/follows/"+t.id+"?followable_type="+t.className,!0),n.send()}function addButtClickHandle(e,t){JSON.parse(t.dataset.info);assignInitialButtResponse(e,t),t.onclick=function(e){e.preventDefault(),handleOptimisticButtRender(t)}}function handleTagButtAssignment(e,t,n){addButtClickHandle(-1!==JSON.parse(e.followed_tags).map(function(e){return e.id}).indexOf(n.id)?"true":"false",t),shouldNotFetch=!0}function assignInitialButtResponse(e,t){t.classList.add("showing"),assignState(t,"true"===e||"mutual"===e?"unfollow":"follow-back"===e?"follow-back":"false"===e?"follow":"self"===e?"self":"login")}function handleOptimisticButtRender(e){if("self"===e.dataset.verb)window.location.href="/settings";else if("login"===e.dataset.verb)showModal("follow-button");else{try{var t=JSON.parse(e.dataset.info).id,n=e.dataset.verb;document.querySelectorAll(".follow-action-button").forEach(function(e){try{if(e.dataset.info){var o=JSON.parse(e.dataset.info).id;o&&o===t&&assignState(e,n)}}catch(r){return}})}catch(o){return}handleFollowButtPress(e)}}function handleFollowButtPress(e){var t=JSON.parse(e.dataset.info),n=new FormData;n.append("followable_type",t.className),n.append("followable_id",t.id),n.append("verb",e.dataset.verb),getCsrfToken().then(sendFetch("follow-creation",n))}function assignState(e,t){var n=JSON.parse(e.dataset.info).style;e.classList.add("showing"),"follow"===t||"follow-back"===t?(e.dataset.verb="unfollow",e.classList.remove("following-butt"),"follow-back"===t?addFollowText(e,t):"follow"===t&&addFollowText(e,n)):"login"===t?addFollowText(e,n):"self"===t?(e.dataset.verb="self",e.textContent="EDIT PROFILE"):(e.dataset.verb="follow",addFollowingText(e,n),e.classList.add("following-butt"))}function addFollowText(e,t){e.textContent="small"===t?"+":"follow-back"===t?"+ FOLLOW BACK":"+ FOLLOW"}function addFollowingText(e,t){e.textContent="small"===t?"\u2713":"\u2713 FOLLOWING"}function initializeAllTagEditButtons(){var e=document.getElementById("tag-edit-button"),t=userData();t&&e&&t.moderator_for_tags.indexOf(e.dataset.tag)>-1&&(e.style.display="inline-block",document.getElementById("tag-mod-button").style.display="inline-block")}function archivedPosts(){return document.getElementsByClassName("single-article-archived")}function showArchivedPosts(){for(var e=archivedPosts(),t=0;t<e.length;t+=1)e[t].classList.remove("hidden")}function hideArchivedPosts(){for(var e=archivedPosts(),t=0;t<e.length;t+=1)e[t].classList.add("hidden")}function toggleArchivedPosts(e){var t=e.target;t.innerHTML.match(/Show/)?(t.innerHTML="Hide Archived",showArchivedPosts()):(t.innerHTML="Show Archived",hideArchivedPosts())}function initializeArchivedPostFilter(){var e=document.getElementById("toggleArchivedLink");e&&e.addEventListener("click",toggleArchivedPosts)}function initializeArticleDate(){addLocalizedDateTimeToElementsTitles(document.querySelectorAll(".single-article time, article time, .single-other-article time"),"datetime")}function setReactionCount(e,t){var n=document.getElementById("reaction-butt-"+e).classList,o=document.getElementById("reaction-number-"+e);t>0?(n.add("activated"),o.textContent=t):(n.remove("activated"),o.textContent="0")}function showUserReaction(e,t){const n=document.getElementById("reaction-butt-"+e);n.classList.add("user-activated",t),n.setAttribute("aria-checked","true")}function hideUserReaction(e){const t=document.getElementById("reaction-butt-"+e);t.classList.remove("user-activated","user-animated"),t.setAttribute("aria-checked","false")}function hasUserReacted(e){return document.getElementById("reaction-butt-"+e).classList.contains("user-activated")}function getNumReactions(e){var t=document.getElementById("reaction-number-"+e).textContent;return""===t?0:parseInt(t,10)}function reactToArticle(e,t){function n(){var e=getNumReactions(t);hasUserReacted(t)?(hideUserReaction(t),setReactionCount(t,e-1)):(showUserReaction(t,"user-animated"),setReactionCount(t,e+1))}function o(){var n=new FormData;return n.append("reactable_type","Article"),n.append("reactable_id",e),n.append("category",t),n}var r=document.getElementsByTagName("body")[0].getAttribute("data-user-status");sendHapticMessage("medium"),"logged-out"!==r?(n(),document.getElementById("reaction-butt-"+t).disabled=!0,getCsrfToken().then(sendFetch("reaction-creation",o())).then(e=>200===e.status?e.json().then(()=>{document.getElementById("reaction-butt-"+t).disabled=!1}):(n(),document.getElementById("reaction-butt-"+t).disabled=!1,undefined))["catch"](()=>{n(),document.getElementById("reaction-butt-"+t).disabled=!1})):showModal("react-to-article")}function setCollectionFunctionality(){if(document.getElementById("collection-link-inbetween"))for(var e=document.getElementsByClassName("collection-link-inbetween"),t=e.length,n=0;n<e.length;n+=1)e[n].onclick=(n=>{n.preventDefault();for(var o=document.getElementsByClassName("collection-link-hidden"),r=o.length,i=0;i<r;i+=1)o[0].classList.remove("collection-link-hidden");for(var a=0;a<t;a+=1)e[0].className="collection-link-hidden"})}function requestReactionCounts(e){var t;(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=(()=>{if(t.readyState===XMLHttpRequest.DONE){var e=JSON.parse(t.response);e.article_reaction_counts.forEach(e=>{setReactionCount(e.category,e.count)}),e.reactions.forEach(e=>{document.getElementById("reaction-butt-"+e.category)&&showUserReaction(e.category,"not-user-animated")})}}),t.open("GET","/reactions?article_id="+e,!0),t.send()}function jumpToComments(){document.getElementById("jump-to-comments").onclick=(e=>{e.preventDefault(),document.getElementById("comments").scrollIntoView({behavior:"instant",block:"start"})})}function initializeArticleReactions(){setCollectionFunctionality(),setTimeout(()=>{var e=document.getElementsByClassName("article-reaction-butt");if(document.getElementById("article-body")&&e.length>0){var t=document.getElementById("article-body").dataset.articleId;requestReactionCounts(t);for(var n=0;n<e.length;n+=1)e[n].onclick=function(){reactToArticle(t,this.dataset.category)}}document.getElementById("jump-to-comments")&&jumpToComments()},3)}function initializeBaseTracking(){var e=0,t=!1,n=setInterval(function(){var o,r,i,a,s,c,l;t||(o=window,r=document,i="script",a="//www.google-analytics.com/analytics.js",s="ga",o.GoogleAnalyticsObject=s,o[s]=o[s]||function(){(o[s].q=o[s].q||[]).push(arguments)},o[s].l=1*new Date,c=r.createElement(i),l=r.getElementsByTagName(i)[0],c.async=1,c.src=a,l.parentNode.insertBefore(c,l)),t=!0,e++,window.ga&&ga.create&&(ga("create","UA-71991109-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview",location.pathname+location.search),clearInterval(n)),e>85&&(clearInterval(n),fallbackActivityRecording())},25);eventListening(),trackCustomImpressions()}function fallbackActivityRecording(){var e=document.querySelector("meta[name='csrf-token']");if(e){var t=e.getAttribute("content"),n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),r=window.screen.availWidth,i=window.screen.availHeight,a={path:location.pathname+location.search,user_language:navigator.language,referrer:document.referrer,user_agent:navigator.userAgent,viewport_size:o+"x"+n,screen_resolution:i+"x"+r,document_title:document.title,document_encoding:document.characterSet,document_path:location.pathname+location.search};window.fetch("/fallback_activity_recorder",{method:"POST",headers:{Accept:"application/json","X-CSRF-Token":t},body:JSON.stringify(a),credentials:"same-origin"})}}function eventListening(){var e=document.getElementById("cta-comment-register-now-link");e&&(e.onclick=function(){ga("send","event","click","register-now-click",null,null)})}function trackCustomImpressions(){setTimeout(function(){var e=document.getElementById("article-body"),t=document.querySelector("meta[name='csrf-token']"),n=/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent),o=window.innerWidth>1250,r=document.getElementById("article-show-primary-sticky-nav"),i=document.getElementById("html-variant-article-show-sidebar");if(i&&e&&t&&!n&&o){var a={html_variant_id:i.dataset.variantId,article_id:e.dataset.articleId},s=t.getAttribute("content");trackHTMLVariantTrial(a,s);for(var c=r.querySelectorAll("a,button"),l=0;l<c.length;l++)c[l].addEventListener("click",function(){trackHtmlVariantSuccess(a,s)})}var u=document.getElementById("html-variant-article-show-below-article");if(u&&e&&t&&!n&&o){a={html_variant_id:u.dataset.variantId,article_id:e.dataset.articleId},s=t.getAttribute("content");trackHTMLVariantTrial(a,s);for(c=u.querySelectorAll("a,button"),l=0;l<c.length;l++)c[l].addEventListener("click",function(){trackHtmlVariantSuccess(a,s)})}if(e&&t&&!n){var d=Math.floor(10*Math.random());if(!checkUserLoggedIn()&&1!=d)return;a={article_id:e.dataset.articleId,referrer:document.referrer,user_agent:navigator.userAgent},s=t.getAttribute("content");trackPageView(a,s);var m=0,f=setInterval(function(){m++;var e=document.getElementById("article-body");e&&checkUserLoggedIn()?trackFifteenSecondsOnPage(e.dataset.articleId,s):clearInterval(f),m>118&&clearInterval(f)},15e3)}var p=document.getElementById("sponsorship-arbitrary-display-widget");p&&t&&!n&&o&&checkUserLoggedIn()&&(trackAdImpression(s=t.getAttribute("content"),p),p.removeEventListener("click",trackAdClick,!1),p.addEventListener("click",function(){trackAdClick(s,p)}))},1800)}function trackHTMLVariantTrial(e,t){1===Math.floor(10*Math.random())&&window.fetch("/html_variant_trials",{method:"POST",headers:{"X-CSRF-Token":t,"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"})}function trackHtmlVariantSuccess(e,t){window.fetch("/html_variant_successes",{method:"POST",headers:{"X-CSRF-Token":t,"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"})}function trackPageView(e,t){window.fetch("/page_views",{method:"POST",headers:{"X-CSRF-Token":t,"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"})}function trackFifteenSecondsOnPage(e,t){window.fetch("/page_views/"+e,{method:"PATCH",headers:{"X-CSRF-Token":t,"Content-Type":"application/json"},credentials:"same-origin"})}function trackAdImpression(e,t){var n={display_ad_event:{display_ad_id:t.dataset.id,context_type:"home",category:"impression"}};window.fetch("/display_ad_events",{method:"POST",headers:{"X-CSRF-Token":e,"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"same-origin"})}function trackAdClick(e,t){if(!adClicked){var n={display_ad_event:{display_ad_id:t.dataset.id,context_type:"home",category:"click"}};window.fetch("/display_ad_events",{method:"POST",headers:{"X-CSRF-Token":e,"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"same-origin"})}adClicked=!0}function initializeUserProfileContent(e){document.getElementById("sidebar-profile--avatar").src=e.profile_image_90,document.getElementById("sidebar-profile--avatar").alt=e.username,document.getElementById("sidebar-profile--name").innerHTML=filterXSS(e.name),document.getElementById("sidebar-profile--username").innerHTML="@"+e.username,document.getElementById("sidebar-profile").href="/"+e.username}function initializeUserSidebar(e){if(!document.getElementById("sidebar-nav"))return;initializeUserProfileContent(e);let t=JSON.parse(e.followed_tags);const n=0===t.length?"Follow tags to improve your feed":"Other Popular Tags";t.forEach(e=>{const t=document.getElementById("default-sidebar-element-"+e.name);t&&t.remove()}),document.getElementById("tag-separator").innerHTML=n,document.getElementById("sidebar-nav-default-tags").classList.add("showing")}function addRelevantButtonsToArticle(e){var t=document.getElementById("article-show-container");if(t)if(parseInt(t.dataset.authorId,10)===e.id){let n=[`<a href="${t.dataset.path}/edit" rel="nofollow">EDIT</a>`];!0===JSON.parse(t.dataset.published)&&n.push(`<a href="${t.dataset.path}/manage" rel="nofollow">MANAGE</a>`),e.pro&&n.push(`<a href="${t.dataset.path}/stats" rel="nofollow">STATS</a>`),document.getElementById("action-space").innerHTML=n.join("")}else e.trusted&&(document.getElementById("action-space").innerHTML='<a href="'+t.dataset.path+'/mod" rel="nofollow">MODERATE <span class="post-word">POST</span></a>')}function addRelevantButtonsToComments(e){if(document.getElementById("comments-container")){var t=document.getElementsByClassName("comment-actions");for(let n=0;n<t.length;n+=1){let o=t[n];const{action:r,commentableUserId:i,userId:a}=o.dataset;parseInt(a,10)===e.id&&(o.style.display="inline-block"),"hide-button"===r&&parseInt(i,10)===e.id&&(o.style.display="inline-block",o.classList.remove("hidden"))}if(e.trusted){var n=document.getElementsByClassName("mod-actions");for(let e=0;e<n.length;e+=1){let t=n[e];t.className="mod-actions",t.style.display="inline-block"}}}}function initializeBaseUserData(){const e=userData(),t='<a href="/'+e.username+'" id="first-nav-link" class="crayons-link crayons-link--block"><div><span class="fw-medium block">'+e.name+'</span><small class="fs-s color-base-50">@'+e.username+"</small></div></a>";document.getElementById("user-profile-link-placeholder").innerHTML=t,document.getElementById("nav-profile-image").src=e.profile_image_90,initializeUserSidebar(e),addRelevantButtonsToArticle(e),addRelevantButtonsToComments(e)}function removeExistingCSRF(){var e=document.querySelector("meta[name='csrf-token']"),t=document.querySelector("meta[name='csrf-param']");e&&t&&(e.parentNode.removeChild(e),t.parentNode.removeChild(t))}function fetchBaseData(){var e;(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=(()=>{if(e.readyState===XMLHttpRequest.DONE){var t=JSON.parse(e.responseText);t.token&&removeExistingCSRF();var n=document.createElement("meta");n.name="csrf-param",n.content=t.param,document.getElementsByTagName("head")[0].appendChild(n);var o=document.createElement("meta");o.name="csrf-token",o.content=t.token,document.getElementsByTagName("head")[0].appendChild(o),document.getElementsByTagName("body")[0].dataset.loaded="true",checkUserLoggedIn()&&(document.getElementsByTagName("body")[0].dataset.user=t.user,browserStoreCache("set",t.user),setTimeout(()=>{"function"==typeof ga&&ga("set","userId",JSON.parse(t.user).id)},400))}}),e.open("GET","/async_info/base_data",!0),e.send()}function initializeBodyData(){fetchBaseData()}function initializeCommentDate(){addLocalizedDateTimeToElementsTitles(document.querySelectorAll(".comment-date time"),"datetime")}function initializeCommentDropdown(){function e(){return/iPhone|CriOS|iPad/i.test(navigator.userAgent)||"DEV-Native-ios"===navigator.userAgent}function t(e){return t=>t.classList.remove(e)}function n(e){return Array.from(document.getElementsByClassName(e))}function o(){const{activeElement:e}=document,t="clipboard-copy"===e.localName?e.querySelector("input"):e;t.focus(),t.setSelectionRange(0,t.value.length),f.hidden=!1}function r(){f&&(f.hidden=!0)}function i(){const e=document.getElementById("article-copy-link-input");e.setSelectionRange(0,e.value.length),document.execCommand("copy"),o()}function a(e){return!(e.target.matches(".dropdown-icon")||e.target.matches(".dropbtn")||e.target.matches("clipboard-copy")||e.target.matches("clipboard-copy input")||e.target.matches("clipboard-copy img")||e.target.parentElement.classList.contains("dropdown-link-row"))}function s(){document.removeEventListener("click",u)}function c(){if(e()){const e=document.getElementsByTagName("clipboard-copy")[0];e&&e.removeEventListener("click",i)}else document.removeEventListener("clipboard-copy",o)}function l(){n("showing").forEach(t("showing"))}function u(e){a(e)&&(l(),r(),s())}function d(t){var n=t.target.parentElement.parentElement.getElementsByClassName("dropdown-content")[0];if(n.classList.contains("showing"))n.classList.remove("showing"),s(),c(),r();else if(l(),n.classList.add("showing"),e()){const e=document.getElementsByTagName("clipboard-copy")[0];document.addEventListener("click",u),e&&e.addEventListener("click",i)}else document.addEventListener("click",u),document.addEventListener("clipboard-copy",o)}function m(e){e.addEventListener("click",d)}const f=document.getElementById("article-copy-link-announcer");setTimeout(function(){n("dropbtn").forEach(m)},100)}function getAndShowPreview(e,t){function n(n){e.classList.toggle("preview-toggle"),t.classList.toggle("preview-loading"),t.classList.toggle("preview-toggle"),e.innerHTML=n.processed_html}const o=JSON.stringify({comment:{body_markdown:t.value}});getCsrfToken().then(sendFetch("comment-preview",o)).then(e=>e.json()).then(n)["catch"](e=>{console.log("error!"),console.log(e)})}function handleCommentPreview(e){e.preventDefault();const{form:t}=e.target,n=t.querySelector("textarea");if(""!==n.value){const e=t.querySelector(".comment-preview-div"),o=t.querySelector(".comment-action-preview");o.innerHTML.indexOf("PREVIEW")>-1?(n.classList.toggle("preview-loading"),getAndShowPreview(e,n),o.innerHTML="MARKDOWN"):(e.classList.toggle("preview-toggle"),n.classList.toggle("preview-toggle"),o.innerHTML="PREVIEW")}}function initializeCommentPreview(){const e=document.getElementById("preview-button");e&&e.addEventListener("click",handleCommentPreview)}function initializeCommentsPage(){if(document.getElementById("comments-container")){toggleCodeOfConduct();var e=document.getElementById("comments-container").dataset.commentableId,t=document.getElementById("comments-container").dataset.commentableType;commentableIdList=e.split(",");(function(){for(var e=0;e<commentableIdList.length;e++)!function(e){var n;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){for(var e=JSON.parse(n.response),t=e.reactions,o=document.getElementsByClassName("single-comment-node"),r=e.positive_reaction_counts,i=0;i<t.length;i++){(a=document.getElementById("button-for-comment-"+t[i].reactable_id))&&a.classList.add("reacted")}for(i=0;i<r.length;i++){var a;(a=document.getElementById("button-for-comment-"+r[i].id))&&r[i].count>0&&(document.getElementById("reactions-count-"+r[i].id)?document.getElementById("reactions-count-"+r[i].id).innerHTML=r[i].count:a.innerHTML=a.innerHTML+"<span class='reactions-count' id='reactions-count-"+r[i].id+"'>"+r[i].count+"</span>")}for(i=0;i<o.length;i++)if(o[i].dataset.commentAuthorId==e.current_user.id){o[i].dataset.currentUserComment="true";var s=o[i].children[0].children[2].children[0],c=document.getElementById("button-for-comment-"+o[i].dataset.commentId);s&&c&&(s.className="current-user-actions",s.style.display="inline-block",document.getElementById("button-for-comment-"+o[i].dataset.commentId).classList.add("reacted"))}}},n.open("GET","/reactions?commentable_id="+commentableIdList[e]+"&commentable_type="+t,!0),n.send()}(e)})();for(var n=document.getElementsByClassName("reaction-button"),o=0;o<n.length;o++){n[o].onclick=function(e){function t(e){var t=n.children[2];"create"===e.result?(n.classList.add("reacted"),t&&(t.innerHTML=parseInt(t.innerHTML)+1)):(n.classList.remove("reacted"),t&&(t.innerHTML=parseInt(t.innerHTML)-1))}var n=this;if(e.preventDefault(),sendHapticMessage("medium"),"logged-out"!==document.getElementsByTagName("body")[0].getAttribute("data-user-status")){n.classList.add("reacted"),n.disabled=!0;var o=new FormData;o.append("reactable_type","Comment"),o.append("reactable_id",n.dataset.commentId),getCsrfToken().then(sendFetch("reaction-creation",o)).then(function(e){n.disabled=!1,200===e.status&&e.json().then(t)})
}else showModal("react-to-comment")}}var r=document.getElementsByClassName("toggle-reply-form");for(o=0;o<r.length;o++){r[o].onclick=function(n){if(n.preventDefault(),n.target.classList.contains("thread-indication"))return!1;if("logged-out"!=document.getElementsByTagName("body")[0].getAttribute("data-user-status")){var o=n.target.parentNode,r=o.dataset.commentId;document.getElementById("button-for-comment-"+o.dataset.commentId).style.zIndex="5";var i=setInterval(function(){document.querySelector("meta[name='csrf-token']")&&(clearInterval(i),o.innerHTML=buildCommentFormHTML(e,t,r),setTimeout(function(){o.getElementsByTagName("textarea")[0].focus()},30))},1);return!1}showModal("reply-to-comment")}}var i=document.getElementsByClassName("edit-butt");for(o=0;o<i.length;o++){i[o].onclick=function(){}}document.getElementById("new_comment")&&document.getElementById("new_comment").addEventListener("submit",handleCommentSubmit)}listenForDetailsToggle()}function toggleCodeOfConduct(){var e=userData();if(e){var t=e.checked_code_of_conduct,n=e.number_of_comments,o=document.getElementById("toggle-code-of-conduct-checkbox");o&&!t&&n<1&&(o.innerHTML='<input type="checkbox" name="checked_code_of_conduct" class="checkbox" required/>                                  <label for="checked_code_of_conduct"/>I\'ve read the <a href="https://dev.to/code-of-conduct">code of conduct</a></label>')}}function replaceActionButts(e){var t="",n=e.getElementsByClassName("actions")[0];"true"==e.dataset.currentUserComment&&(t='<a data-no-instant href="'+e.parentNode.parentNode.dataset.path+'/delete_confirm" class="edit-butt">DELETE</a>                            <a href="'+e.parentNode.parentNode.dataset.path+'/edit">EDIT</a>'),n.innerHTML='<span class="current-user-actions">'+t+'</span><a href="#" class="toggle-reply-form">REPLY</a>'}function warmNewCommentsArea(){var e="/stories/warm_comments"+window.location.pathname;window.fetch(e)}function handleCommentSubmit(e){e.preventDefault();var t=e.target;t.classList.add("submitting");var n=document.getElementById("comment-node-"+e.target.dataset.commentId),o=JSON.stringify({comment:{body_markdown:t.getElementsByTagName("textarea")[0].value,commentable_id:t.querySelector("#comment_commentable_id").value,commentable_type:t.querySelector("#comment_commentable_type").value,parent_id:t.querySelector("#comment_parent_id")?t.querySelector("#comment_parent_id").value:null}});return getCsrfToken().then(sendFetch("comment-creation",o)).then(function(e){return 200===e.status?e.json().then(function(e){var o=document.createElement("div");if("comment already exists"==e.status)return!1;if("errors"==e.status)return alert("There was a problem submitting this comment."),!1;o.innerHTML=buildCommentHTML(e);var r=document.getElementsByTagName("body")[0],i=JSON.parse(r.getAttribute("data-user"));i.checked_code_of_conduct=!0,r.dataset.user=JSON.stringify(i);var a=t.getElementsByClassName("code-of-conduct")[0];a&&(a.innerHTML="");var s=document.getElementById("new_comment");if(n){replaceActionButts(n),e.depth>2&&(n.getElementsByClassName("toggle-reply-form")[0].innerHTML="");var c=n.getElementsByClassName("inner-comment")[0];c.parentNode.insertBefore(o,c.nextSibling)}else if(s){(s=document.getElementById("new_comment")).classList.remove("submitting");const t=document.getElementById("text-area");t.classList="",t.value=e.comment_template||"";var l=document.getElementById("preview-div");l.classList.add("preview-toggle"),l.innerHTML="";var u=document.getElementById("comment-trees-container");u.insertBefore(o,u.firstChild)}else if(document.getElementById("notifications-container")){var d=document.createElement("span");d.innerHTML='<div class="reply-sent-notice">Reply sent \u2014 <a href="'+e.url+'">Check it out</a></div>',t.replaceWith(d)}else window.location.replace(e.url);warmNewCommentsArea(),initializeCommentsPage(),initializeCommentDate(),initializeCommentDropdown()}):e.json().then(function(e){return t.classList.remove("submitting"),window.alert(e.error),!1}),!1}),!1}function handleFocus(e){var t=document.getElementsByTagName("body")[0].getAttribute("data-user-status"),n=e.target;"logged-out"==t?(e.preventDefault(),showModal("reply-to-comment"),n.blur(),setTimeout(function(){n.blur(),showModal("reply-to-comment")},100)):handleSizeChange(e)}function handleBlur(){setTimeout(function(){var e=document.getElementById("text-area");0==e.value.length&&(e.className="")},100)}function handleKeyUp(e){handleSizeChange(e)}function handleSubmit(e){var t=userData();if(t&&(t.number_of_comments>=1&&""!==e.target.value.trim())){var n=e.target.parentElement.parentElement.id||e.target.parentElement.id;document.querySelector("#"+n+' input[type="submit"].comment-action-button').click()}}function handleBoldAndItalic(e){var t=e.target,n=t.value.substring(t.selectionStart,t.selectionEnd),o=t.selectionStart,r=e.keyCode===KEY_CODE_B?"**":"_";replaceSelectedText(t,`${r}${n}${r}`);var i=o+r.length;t.setSelectionRange(i,i+n.length)}function handleLink(e){var t=e.target,n=t.value.substring(t.selectionStart,t.selectionEnd),o=t.selectionStart;replaceSelectedText(t,`[${n}](url)`);var r=o+n.length+3,i=r+3;t.setSelectionRange(r,i)}function replaceSelectedText(e,t){document.execCommand("insertText",!1,t)||"function"==typeof e.setRangeText&&e.setRangeText(t)}function handleKeyDown(e){if(e.ctrlKey||e.metaKey)switch(e.keyCode){case KEY_CODE_B:case KEY_CODE_I:e.preventDefault(),handleBoldAndItalic(e);break;case KEY_CODE_K:e.preventDefault(),handleLink(e);break;case ENTER_KEY_CODE:e.preventDefault(),handleSubmit(e)}}function handleSizeChange(e){var t=e.target.value.split(/\r*\n/).length;document.getElementById("text-area").className=t>11?"embiggened-max":t>6?"embiggened-more":"embiggened"}function validateField(e){document.getElementById("text-area")&&(""==document.getElementById("text-area").value&&e.preventDefault())}function generateUploadFormdata(e){var t=document.querySelector("meta[name='csrf-token']").content,n=new FormData;return n.append("authenticity_token",t),n.append("image",e[0]),n}function handleImageUpload(e,t){document.getElementById("comments-container").dataset.commentableId;e.preventDefault(),document.getElementById("image-upload-"+t).click(),document.getElementById("image-upload-"+t).onchange=function(){document.getElementById("image-upload-"+t).files.length>0&&(document.getElementById("image-upload-file-label-"+t).style.color="#888888",document.getElementById("image-upload-file-label-"+t).innerHTML="Uploading...",document.getElementById("image-upload-submit-"+t).value="uploading",setTimeout(function(){document.getElementById("image-upload-submit-"+t).click(function(){})},50))},document.getElementById("image-upload-submit-"+t).onclick=function(e){e.preventDefault();var n=document.getElementById("image-upload-"+t).files;n.length>0&&getCsrfToken().then(sendFetch("image-upload",generateUploadFormdata(n))).then(function(e){200===e.status?e.json().then(function(e){var n=document.getElementById("uploaded-image-"+t),o=(document.getElementById("image-upload-button-"+t),document.getElementById("image-upload-file-label-"+t));o.style.display="none",n.value=e.links[0],n.classList.add("showing"),n.select();var r="Uploaded! Paste into editor";o.innerHTML=r,o.style.color="#00c673",o.style.position="relative",o.style.top="5px"}):e.json().then(function(e){var n=e.error||"Invalid file!";document.getElementById("image-upload-file-label-"+t).innerHTML=n,document.getElementById("image-upload-file-label-"+t).style.color="#e05252",document.getElementById("image-upload-submit-"+t).style.display="none"})})["catch"](function(){})}}function listenForDetailsToggle(){for(var e=document.getElementsByTagName("DETAILS"),t=0;t<e.length;t++)e[t].addEventListener("toggle",e=>{var t=e.target,n=t.getElementsByTagName("SPAN")[0],o=t.getElementsByClassName("comment-username"),r="";o.length>1&&(r=" + "+(o.length-1)+" replies");var i=o[0].textContent+r;t.open?n.innerHTML="&nbsp;":n.innerHTML=i,t.getElementsByTagName("SUMMARY")[0].blur()})}function initializeCreditsPage(){localizeTimeElements(document.querySelectorAll(".ledger time"),{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function initializeDashboardSort(){document.getElementById("dashhboard_sort")&&document.getElementById("dashhboard_sort").addEventListener("change",e=>{window.location="/dashboard?sort="+e.target.value})}function initializeDrawerSliders(){initializeSwipeGestures.called||(swipeState="middle",initializeSwipeGestures()),document.getElementById("on-page-nav-controls")&&(document.getElementById("sidebar-bg-left")&&(document.getElementById("sidebar-bg-left").onclick=function(){swipeState="middle",slideSidebar("left","outOfView")}),document.getElementById("sidebar-bg-right")&&(document.getElementById("sidebar-bg-right").onclick=function(){swipeState="middle",slideSidebar("right","outOfView")}),document.getElementById("on-page-nav-butt-left")&&(document.getElementById("on-page-nav-butt-left").onclick=function(){swipeState="left",slideSidebar("left","intoView")}),document.getElementById("on-page-nav-butt-right")&&(document.getElementById("on-page-nav-butt-right").onclick=function(){swipeState="right",slideSidebar("right","intoView")}),InstantClick.on("change",function(){document.getElementsByTagName("body")[0].classList.remove("modal-open"),slideSidebar("right","outOfView"),slideSidebar("left","outOfView")}),listenForNarrowMenuClick())}function listenForNarrowMenuClick(){for(var e=document.getElementsByClassName("narrow-nav-menu"),t=document.getElementById("narrow-feed-butt"),n=0;n<e.length;n++)document.getElementById("narrow-nav-menu").classList.remove("showing");t&&(t.onclick=function(){document.getElementById("narrow-nav-menu").classList.add("showing")});for(n=0;n<e.length;n++)e[n].onclick=function(){document.getElementById("narrow-nav-menu").classList.remove("showing")}}function getFormValues(e){for(var t=e.action.match(/\/(\d+)$/)[1],n=e.querySelectorAll("input"),o={id:t,article:{}},r=0;r<n.length;r+=1){var i=n[r],a=i.getAttribute("name"),s=i.getAttribute("value");if(a.match(/\[(.*)\]/)){var c=a.match(/\[(.*)\]$/)[1];o.article[c]=s}else o[a]=s}return o}function toggleArchived(e,t){"true"===t?e.classList.add("single-article-archived","hidden"):e.classList.remove("single-article-archived")}function toggleNotifications(e,t){"Mute Notifications"===t?e.setAttribute("value","Receive Notifications"):e.setAttribute("value","Mute Notifications")}function onXhrSuccess(e,t,n){if(n.article.archived)toggleArchived(t,n.article.archived);else{var o=e.querySelector('input[type="submit"]');toggleNotifications(o,o.getAttribute("value"))}t.querySelector("ul.ellipsis-menu").classList.add("hidden")}function handleFormSubmit(e){e.preventDefault(),e.stopPropagation();var t=e.target,n=getFormValues(t),o=JSON.stringify(n),r=new FormData(t).get("_method")||"post",i=new XMLHttpRequest;i.open(r.toUpperCase(),t.action),i.setRequestHeader("Content-Type","application/json"),i.send(o),i.onload=function(){var e=t.closest("div.single-article");if(200===i.status){onXhrSuccess(t,e,n);var o="Mute Notifications"===n.commit?"Notifications Muted":"Notifications Restored";e.querySelector(".dashboard-meta-details").innerHTML=o}else e.querySelector(".dashboard-meta-details").innerHTML="Failed to update article."}}function initializeFormSubmit(){for(var e=document.querySelectorAll("ul.ellipsis-menu > li > form"),t=0;t<e.length;t+=1)e[t].addEventListener("submit",handleFormSubmit)}function getMenu(e){return e.closest("div.ellipsis-menu").querySelector("ul.ellipsis-menu")}function hideIfNotAlreadyHidden(e){e.classList.contains("hidden")||e.classList.add("hidden")}function hideAllEllipsisMenusExcept(e){for(var t=document.querySelectorAll("ul.ellipsis-menu"),n=0;n<t.length;n+=1)t[n]!==e&&hideIfNotAlreadyHidden(t[n])}function hideEllipsisMenus(e){if(!e.target.closest("div.ellipsis-menu"))for(var t=document.querySelectorAll("ul.ellipsis-menu"),n=0;n<t.length;n+=1)hideIfNotAlreadyHidden(t[n])}function toggleEllipsisMenu(e){var t=getMenu(e.target);hideAllEllipsisMenusExcept(t),t.classList.contains("hidden")?t.classList.remove("hidden"):t.classList.add("hidden")}function initializeEllipsisMenuToggle(){for(var e=document.getElementsByClassName("ellipsis-menu-btn"),t=0;t<e.length;t+=1)e[t].addEventListener("click",toggleEllipsisMenu);const n=document.getElementsByTagName("body")[0];n&&n.addEventListener("click",hideEllipsisMenus)}function initializeEllipsisMenu(){initializeEllipsisMenuToggle(),initializeFormSubmit()}function initializeFooterMod(){var e=document.getElementById("footer-container"),t=document.getElementById("page-content");e&&t&&t.className.indexOf("stories-show")>-1&&!document.getElementById("IS_CENTERED_PAGE")?document.getElementById("footer-container").classList.remove("centered-footer"):e&&document.getElementById("footer-container").classList.add("centered-footer")}function initializeHeroBannerClose(){let e=document.getElementById("hero-html-wrapper"),t=document.getElementById("js-hero-banner__x");e&&t&&t.addEventListener("click",()=>{localStorage.setItem("exited_hero",e.dataset.name),e.style.display="none"})}function initializeLocalStorageRender(){try{var e=browserStoreCache("get");e&&(document.getElementsByTagName("body")[0].dataset.user=e,initializeBaseUserData(),initializeReadingListIcons(),initializeAllFollowButts(),initializeSponsorshipVisibility())}catch(t){browserStoreCache("remove")}}function initializePWAFunctionality(){if((window.matchMedia("(display-mode: standalone)").matches||window.frameElement)&&(document.getElementById("pwa-nav-buttons").classList.add("pwa-nav-buttons--showing"),document.getElementById("app-back-button").onclick=(e=>{e.preventDefault(),window.history.back()}),document.getElementById("app-forward-button").onclick=(e=>{e.preventDefault(),window.history.forward()}),document.getElementById("app-refresh-button").onclick=(e=>{e.preventDefault(),window.location.reload()}),!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|DEV-Native-ios/i.test(navigator.userAgent)))for(var e=window.location.protocol+"//"+window.location.host,t=document.getElementsByTagName("a"),n=0,o=t.length;n<o;n++){var r=t[n];0===r.href.indexOf(e+"/")||0===r.href.indexOf("/")||(r.setAttribute("target","_blank"),r.setAttribute("rel","noopener noreferrer"))}}function initializePodcastPlayback(){function e(e){return document.getElementById(e)}function t(e){return document.getElementsByClassName(e)}function n(){return window.name||(window.name=Math.random()),{html:document.getElementById("audiocontent").innerHTML,currentTime:0,playing:!1,muted:!1,volume:1,duration:1,updated:(new Date).getTime(),windowName:window.name}}function o(){try{var e=JSON.parse(localStorage.getItem("media_playback_state_v2"));return e&&window.name===e.windowName?e:n()}catch(t){return console.log(t),n()}}function r(){var t=e("audio"),n=o();return t&&n.playing}function i(){return e(`record-${window.activeEpisode}`)}function a(t){r()&&i()&&(e(`record-${window.activeEpisode}`).classList.add("playing"),b(t))}function s(){window.activeEpisode&&e(`record-${window.activeEpisode}`)&&(e(`record-${window.activeEpisode}`).classList.remove("playing"),window.activeEpisode=undefined)}function c(){var e=t("record-wrapper"),n=t("podcastliquidtag__record");return e.length>0?e:n}function l(){return"DEV-Native-ios"===navigator.userAgent}function u(e){var t=e||o(),r=n();return r.currentTime=t.currentTime,r.playing=t.playing,r.muted=t.muted,r.volume=t.volume,r.duration=t.duration,localStorage.setItem("media_playback_state_v2",JSON.stringify(r)),r}function d(e){try{window&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.podcast&&window.webkit.messageHandlers.podcast.postMessage(e)}catch(t){console.log(t.message)}}function m(t){var n=o();e("barPlayPause").onclick=function(){I(t)},e("mutebutt").onclick=function(){x(t)},e("volbutt").onclick=function(){x(t)},e("bufferwrapper").onclick=function(e){B(e,t)},e("volumeslider").value=100*n.volume,e("volumeslider").onchange=function(e){S(e,t)},e("speed").onclick=function(){v(t)},e("closebutt").onclick=function(){A(t)}}function f(t){return-1!==e("audiocontent").innerHTML.indexOf(`${t}`)}function p(e){return function(){var t=0;e.currentTime>0&&(t=e.buffered.end(e.buffered.length-1)/e.duration*100);L(e.currentTime,e.duration,t)}}function h(e){l()?d({action:"load",url:e.querySelector("source").src}):e.load()}function g(t){e("audiocontent").innerHTML=e(`hidden-audio-${t}`).innerHTML;var n=e("audio");n.addEventListener("timeupdate",p(n),!1),h(n),I(n),m(n)}function y(){var t=c();Array.prototype.forEach.call(t,function(t){var n=t.getAttribute("data-episode");t.getAttribute("data-podcast");t.onclick=function(){if(f(n)){var t=e("audio");t&&I(t)}else s(),g(n)}})}function v(t){var n=o(),r=e("speed"),i=parseFloat(r.getAttribute("data-speed"));2==i?(r.setAttribute("data-speed",.5),r.innerHTML="0.5x",n.playbackRate=.5):(r.setAttribute("data-speed",i+.5),r.innerHTML=i+.5+"x",n.playbackRate=i+.5),u(n),l()?d({action:"rate",rate:n.playbackRate.toString()}):t.playbackRate=n.playbackRate}function b(t){var n=e(`status-message-${window.activeEpisode}`);n?t?(n.classList.add("showing"),n.innerHTML=t):n.classList.remove("showing"):"initializing..."===t&&document.querySelector(".status-message")&&(document.querySelector(".status-message").innerHTML=t)}function w(){e("barPlayPause").classList.add("playing"),e("progressBar").classList.add("playing"),e("animated-bars").classList.add("playing")}function _(){e("barPlayPause").classList.remove("playing"),e("animated-bars").classList.remove("playing")}function E(e){return new Promise(function(t,n){var r=o();l()?(d({action:"play",seconds:r.currentTime.toString()}),j(!0),t()):(e.currrentTime=r.currentTime,e.play().then(function(){j(!0),t()})["catch"](function(e){console.log(e),j(!1),n()}))})}function T(e){if(l())try{var t=document.getElementsByClassName("podcast-episode-container")[0],n=JSON.parse(t.dataset.meta);d({action:"metadata",episodeName:n.episodeName,podcastName:n.podcastName,podcastImageUrl:n.podcastImageUrl})}catch(o){console.log("Unable to load Podcast Episode metadata",o)}E(e).then(function(){a(),w()})["catch"](function(){E(e),setTimeout(function(){a("initializing..."),w()},5)})}function k(e){l()?d({action:"pause"}):e.pause(),j(!1),s(),_()}function I(e){window.activeEpisode=e.getAttribute("data-episode"),window.activePodcast=e.getAttribute("data-podcast"),o().playing?(ga("send","event","click","pause podcast",`${window.activePodcast} ${window.activeEpisode}`,null),k(e),b(null)):(ga("send","event","click","play podcast",`${window.activePodcast} ${window.activeEpisode}`,null),b("initializing..."),T(e))}function x(t){var n=o();e("mutebutt").classList.add(n.muted?"hidden":"showing"),e("volumeindicator").classList.add(n.muted?"showing":"hidden"),e("mutebutt").classList.remove(n.muted?"showing":"hidden"),e("volumeindicator").classList.remove(n.muted?"hidden":"showing"),n.muted=!n.muted,l()?d({action:"muted",muted:n.muted.toString()}):t.muted=n.muted,u(n)}function S(e,t){var n=o();n.volume=e.target.value/100,l()?d({action:"volume",volume:n.volume}):t.volume=n.volume,u(n)}function L(t,n,r){var i=e("progress"),a=e("buffer"),s=e("time"),c=0,l=t-Math.floor(t);if(t>0&&(c=Math.floor(100/n*t),l<.4)){var d=o();d.duration=n,d.currentTime=t,u(d)}i&&s&&t>0&&(i.style.width=c+"%",a.style.width=r+"%",s.innerHTML=C(t)+" / "+C(n))}function B(t,n){var r=o(),i=e("progress"),a=e("time");if(t.clientX>128){var s=(t.clientX-128)/(window.innerWidth-133),c=r.duration;r.currentTime=c*s,l()?d({action:"seek",seconds:r.currentTime.toString()}):n.currentTime=r.currentTime,a.innerHTML=C(r.currentTime)+" / "+C(r.duration),i.style.width=100*s+"%"}}function C(e){var t=Math.floor(e),n=Math.floor(t/60);return(n=n>=10?n:"0"+n)+":"+(t=(t=Math.floor(t%60))>=10?t:"0"+t)}function A(t){t.removeEventListener("timeupdate",p(t),!1),e("audiocontent").innerHTML="",s(),u(n()),l()&&d({action:"terminate"})}function N(t){if("attributes"===t.type){var n={};try{var r=e("audiocontent").dataset.podcast;n=JSON.parse(r)}catch(a){return void console.log(a)}var i=o();"tick"===n.action?(i.currentTime=n.currentTime,i.duration=n.duration,u(i),L(i.currentTime,i.duration,100)):console.log("Unrecognized podcast message: ",n)}}function R(){new MutationObserver(function(e){e.forEach(function(e){N(e)})}).observe(e("audiocontent"),{attributes:!0})}function O(){var t=o();document.getElementById("audiocontent").innerHTML=t.html;var n=e("audio");n!=undefined?(l()||(n.currentTime=t.currentTime||0),h(n),t.playing&&E(n)["catch"](function(e){console.log(e),_()}),setTimeout(function(){n.addEventListener("timeupdate",p(n),!1),R()},500),m(n)):audioInitialized=!1}function j(e){var t=o();t.playing=e,u(t)}a(),y(),audioInitialized||(audioInitialized=!0,O());var P=e("audio"),M=e("audiocontent");P&&M&&M.innerHTML.length<25&&h(P)}function initializeReadingListIcons(){setReadingListButtonsState(),addReadingListCountToHomePage(),addHoverEffectToReadingListButtons()}function setReadingListButtonsState(){var e=document.querySelectorAll(".bookmark-button:not([data-initial-feed])");Array.from(e).forEach(highlightButton)}function highlightButton(e){var t=userData(),n=parseInt(e.dataset.reactableId,10);t&&t.reading_list_ids.indexOf(n)>-1?e.classList.add("selected"):e.classList.remove("selected"),e.addEventListener("click",reactToReadingListButtonClick)}function addReadingListCountToHomePage(){var e,t=userData();t&&document.getElementById("reading-list-count")&&(e=t.reading_list_ids.length>0?t.reading_list_ids.length:"",document.getElementById("reading-list-count").innerHTML=e,document.getElementById("reading-list-count").dataset.count=t.reading_list_ids.length)}function reactToReadingListButtonClick(e){var t;e.preventDefault(),sendHapticMessage("medium"),"logged-out"!==document.getElementsByTagName("body")[0].getAttribute("data-user-status")?(renderOptimisticResult(t=properButtonFromEvent(e)),getCsrfToken().then(sendFetch("reaction-creation",buttonFormData(t))).then(function(e){if(200===e.status)return e.json().then(function(e){renderButtonState(t,e),renderNewSidebarCount(t,e)})})["catch"](function(){})):showModal("add-to-readinglist-from-index")}function renderButtonState(e,t){"create"===t.result?(e.classList.add("selected"),addHoverEffectToReadingListButtons(e)):e.classList.remove("selected")}function renderNewSidebarCount(e,t){var n,o=document.getElementById("reading-list-count").dataset.count;o=parseInt(o,10),"create"===t.result?n=o+1:0!==o&&(n=o-1),document.getElementById("reading-list-count").dataset.count=n,document.getElementById("reading-list-count").innerHTML=n}function buttonFormData(e){var t=new FormData;return t.append("reactable_type","Article"),t.append("reactable_id",e.dataset.reactableId),t.append("category","readinglist"),t}function renderOptimisticResult(e){renderButtonState(e,{result:"create"})}function properButtonFromEvent(e){return"BUTTON"===e.target.tagName?e.target:e.target.parentElement}function addHoverEffectToReadingListButtons(){var e=document.getElementsByClassName("articles-list");Array.from(e).forEach(function(e){e.addEventListener("mouseover",readingListButtonMouseHandler.bind("UNSAVE")),e.addEventListener("mouseout",readingListButtonMouseHandler.bind("SAVED"))})}function isReadingListButtonHoverTarget(e){var t=e.classList;return"BUTTON"===e.tagName&&t.contains("bookmark-button")&&t.contains("selected")||"SPAN"===e.tagName&&t.contains("bm-success")}function readingListButtonMouseHandler(e){var t=e.target;if(isReadingListButtonHoverTarget(t)){e.preventDefault();var n=this;("BUTTON"===t.tagName?t.getElementsByClassName("bm-success")[0]:t).innerHTML=n}}function initializeSettings(){const e=document.getElementById("settings-org-secret");e&&e.addEventListener("click",e=>{e.target.select()});let t=document.getElementById("rss-fetch-time");if(t){var n=t.getAttribute("datetime"),o={month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};t.textContent=timestampToLocalDateTime(n,navigator.language,o)}const r=document.getElementById("new_pro_membership");r&&r.addEventListener("submit",e=>(e.preventDefault(),!!window.confirm("Are you sure?")&&(e.target.submit(),!0)))}function sponsorClickHandler(e){e.target.classList.contains("follow-action-button")&&(handleOptimisticButtRender(e.target),handleFollowButtPress(e.target)),ga("send","event","click","click sponsor link",e.target.dataset.details,null)}function listenForSponsorClick(){setTimeout(()=>{if(window.ga)for(var e=document.getElementsByClassName("partner-link"),t=0;t<e.length;t++)e[t].onclick=sponsorClickHandler},400)}function initializeSponsorshipVisibility(){var e=document.getElementById("sponsorship-widget")||document.getElementById("partner-content-display"),t=userData();e&&setTimeout(()=>{window.ga&&0===document.querySelectorAll("[data-partner-seen]").length&&(ga("send","event","view","sponsor displayed on page",e.dataset.details,null),e.dataset.partnerSeen="true")},400),e&&t&&t.display_sponsors?(e.classList.remove("hidden"),listenForSponsorClick()):e&&t?e.classList.add("hidden"):e&&(e.classList.remove("hidden"),listenForSponsorClick())}function initializeStylesheetAppend(){if(!document.getElementById("main-head-stylesheet")){var e=document.createElement("link");e.type="text/css",e.id="main-head-stylesheet",e.rel="stylesheet",e.href="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/minimal-8e2457f1158f8afe4a710b981620793965ceba021d772bdcc46aff4d9b8ac78f.css",document.getElementsByTagName("head")[0].appendChild(e)}}function initializeSwipeGestures(){initializeSwipeGestures.called=!0,swipeState="middle",setTimeout(function(){!function(e){var t=function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!0,!0,e.target),e.target.dispatchEvent(n),n=null,!1},n=!0,o={x:0,y:0},r={x:0,y:0},i={touchstart:function(e){o={x:e.touches[0].pageX,y:e.touches[0].pageY,scrollY:window.scrollY}},touchmove:function(e){n=!1,r={x:e.touches[0].pageX,y:e.touches[0].pageY,scrollY:window.scrollY}},touchend:function(e){if(n)t(e,"fc");else{var i=r.x-o.x,a=Math.abs(i),s=r.y-o.y,c=Math.abs(s),l=Math.abs(o.scrollY-r.scrollY);if(Math.max(a,c)>15)t(e,a/2>c&&l<5?i<0?"swl":"swr":s<0?"swu":"swd")}n=!0},touchcancel:function(){n=!1}};for(var a in i)e.addEventListener(a,i[a],!1)}(document);document.body.addEventListener("swl",handleSwipeLeft,!1),document.body.addEventListener("swr",handleSwipeRight,!1)},50)}function handleSwipeLeft(){document.getElementById("on-page-nav-controls")&&("middle"==swipeState?(swipeState="right",slideSidebar("right","intoView")):(swipeState="middle",slideSidebar("left","outOfView")))}function handleSwipeRight(){document.getElementById("on-page-nav-controls")&&("middle"==swipeState?(swipeState="left",slideSidebar("left","intoView")):(swipeState="middle",slideSidebar("right","outOfView")))}function formatDateTime(e,t){return new Intl.DateTimeFormat("en-US",e).format(t)}function convertUtcTime(e){return formatDateTime({hour:"numeric",minute:"numeric",timeZoneName:"short"},new Date(e))}function convertUtcDate(e){return formatDateTime({month:"short",day:"numeric"},new Date(e))}function convertCalEvent(e){return formatDateTime({weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},new Date(e))}function updateLocalDateTime(e,t,n){for(var o,r=0;r<e.length;r+=1)o=t(n(e[r])),e[r].innerHTML=o}function initializeTimeFixer(){var e=document.getElementsByClassName("utc-time"),t=document.getElementsByClassName("utc-date"),n=document.getElementsByClassName("utc");n&&(updateLocalDateTime(e,convertUtcTime,e=>e.dataset.datetime),updateLocalDateTime(t,convertUtcDate,e=>e.dataset.datetime),updateLocalDateTime(n,convertCalEvent,e=>e.innerHTML))}function getById(e){return document.getElementById(e)}function getClassList(e){return getById(e).classList}function blur(e,t){setTimeout(()=>{document.activeElement!==getById(t)&&getClassList("top-bar__menu").remove("showing")},10)}function removeShowingMenu(){getClassList("top-bar__menu").remove("showing"),setTimeout(()=>{getClassList("top-bar__menu").remove("showing")},5),setTimeout(()=>{getClassList("top-bar__menu").remove("showing")},150)}function toggleMenu(){getClassList("top-bar__menu").toggle("showing")}function initializeTouchDevice(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|DEV-Native-ios/i.test(navigator.userAgent);"DEV-Native-ios"===navigator.userAgent&&document.getElementsByTagName("body")[0].classList.add("dev-ios-native-body"),setTimeout(()=>{removeShowingMenu(),e?getById("navigation-butt").addEventListener("click",toggleMenu):(getClassList("top-bar__menu").add("desktop"),getById("navigation-butt").addEventListener("focus",()=>getClassList("top-bar__menu").add("showing")),getById("last-nav-link").addEventListener("blur",e=>blur(e,"second-last-nav-link")),getById("navigation-butt").addEventListener("blur",e=>blur(e,"first-nav-link")))},10)}function initializeUserProfilePage(){const e=document.getElementsByClassName("profile-dropdown")[0];if(e){const t=userData();if(t&&t.username===e.dataset.username)e.hidden=!0;else{e.hidden=!1;const t=document.getElementById("user-profile-dropdown");if(t){const e=document.getElementById("user-profile-dropdownmenu");t.addEventListener("click",()=>{e.classList.toggle("showing")})}}}}function browserStoreCache(e,t){try{switch(e){case"set":localStorage.setItem("current_user",t),localStorage.setItem("config_body_class",JSON.parse(t).config_body_class);break;case"remove":localStorage.removeItem("current_user");break;default:return localStorage.getItem("current_user")}}catch(n){navigator.cookieEnabled&&browserStoreCache("remove")}return undefined}function buildArticleHTML(e){if(e&&"podcast_episodes"==e.type_of)return'<div class="single-article single-article-small-pic single-article-single-podcast">      <div class="small-pic">       <a href="/'+e.podcast.slug+'" class="small-pic-link-wrapper">         <img src="'+e.podcast.image_url+'" alt="'+e.podcast.title+' image">       </a>       </div>       <a href="'+e.path+'" class="small-pic-link-wrapper index-article-link" id="article-link-'+e.id+'">        <div class="content">         <h3><span class="tag-identifier">podcast</span>'+e.title+'</h3>        </div>       </a>       <h4><a href="/'+e.podcast.slug+'">'+e.podcast.title+"</a></h4>       </div>";if(e){var t=document.getElementById("index-container"),n="",o=e.tag_list||e.cached_tag_list_array;o&&o.forEach(function(e){n=n+'<a href="/t/'+e+'"><span class="tag">#'+e+"</span></a>\n"});var r="";(e.comments_count||"0")>0&&"User"!=e.class_name&&(r='<div class="article-engagement-count comments-count"><a href="'+e.path+'#comments"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/comments-bubble-9958d41b969a1620c614347d5ad3f270ab49582c1d9f82b617a6b4156d05dda0.png" alt="chat" /><span class="engagement-count-number">'+(e.comments_count||"0")+"</span></a></div>");var i="";if(t)var a=JSON.parse(t.dataset.params).tag;e.flare_tag&&a!=e.flare_tag.name&&(i="<span class='tag-identifier' style='background:"+e.flare_tag.bg_color_hex+";color:"+e.flare_tag.text_color_hex+"'>#"+e.flare_tag.name+"</span>"),"PodcastEpisode"==e.class_name&&(i="<span class='tag-identifier'>podcast</span>"),"User"==e.class_name&&(i="<span class='tag-identifier' style='background:#5874d9;color:white;'>person</span>");var s=e.positive_reactions_count||e.reactions_count,c="";if((s||"0")>0&&"User"!=e.class_name)c='<div class="article-engagement-count reactions-count"><a href="'+e.path+'"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/reactions-stack-ee166e138ca182a567f74c986b6f810f670f4d199aca9c550cc7e6f49f34bd33.png" alt="heart" /><span id="engagement-count-number-'+e.id+'" class="engagement-count-number">'+(s||"0")+"</span></a></div>";var l=e.user.profile_image_90,u=e.user.username,d="";e.organization&&!document.getElementById("organization-article-index")&&(d='<div class="article-organization-headline"><a class="org-headline-filler" href="/'+e.organization.slug+'"><img alt="'+e.organization.name+' logo" src="'+e.organization.profile_image_90+'" loading="lazy">'+e.organization.name+"</a></div>");var m="",f="",p="";if(e._snippetResult&&e._snippetResult.body_text){if("none"!=e._snippetResult.body_text.matchLevel){var h="";(g=e._snippetResult.body_text.value[0]).toLowerCase()!=g.toUpperCase()&&(h="\u2026"),m=h+e._snippetResult.body_text.value+"\u2026"}if("none"!=e._snippetResult.comments_blob.matchLevel&&""===m){var g;h="";(g=e._snippetResult.comments_blob.value[0]).toLowerCase()!=g.toUpperCase()&&(h="\u2026"),f=h+e._snippetResult.comments_blob.value+"\u2026 <i>(comments)</i>"}
(m.length>0||f.length>0)&&"Article"==e.class_name&&(p='<div class="search-snippet"><span>'+m+f+"</span></div>")}var y="";"Article"===e.class_name?y='<button type="button" class="article-engagement-count engage-button bookmark-button" data-reactable-id="'+e.id+'">                      <span class="bm-initial">SAVE</span>                      <span class="bm-success">SAVED</span>                    </button>':"User"===e.class_name&&(y='<button type="button" style="width: 122px" class="article-engagement-count engage-button follow-action-button"                       data-info=\'{"id":'+e.id+',"className":"User"}\' data-follow-action-button>                       &nbsp;                    </button>');var v="";e.readable_publish_date&&(v=e.published_timestamp?'\u30fb<time datetime="'+e.published_timestamp+'">'+e.readable_publish_date+"</time>":"\u30fb<time>"+e.readable_publish_date+"</time>");var b="";"Article"===e.class_name&&(b='<a href="'+e.path+'" class="article-reading-time">'+((e.reading_time||null)<1?"1 min":e.reading_time+" min")+" read</a>");var w="";e.cloudinary_video_url&&(w='<a href="'+e.path+'" class="single-article-video-preview" style="background-image:url('+e.cloudinary_video_url+')"><div class="single-article-video-duration"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/video-camera-fc817a680df322ad5788d0fd7820dd4ba1d5f6b8773828b89a48d72bfdcad234.svg" alt="video camera">'+e.video_duration_in_minutes+"</div></a>");var _="";return e.published_at_int&&(_=timeAgo({oldTimeInSeconds:e.published_at_int})),'<div class="single-article single-article-small-pic" data-content-user-id="'+e.user_id+'">      '+w+"      "+d+'      <div class="small-pic">       <a href="/'+u+'" class="small-pic-link-wrapper">         <img src="'+l+'" alt="'+u+' profile" loading="lazy">       </a>       </div>       <a href="'+e.path+'" class="small-pic-link-wrapper index-article-link" id="article-link-'+e.id+'">        <div class="content">         <h3>'+i+filterXSS(e.title)+"</h3>         "+p+'        </div>       </a>       <h4><a href="/'+e.user.username+'">'+filterXSS(e.user.name)+v+_+'</a></h4>       <div class="tags">'+n+"</div>       "+r+c+b+"       "+y+"</div>"}}function buildCommentFormHTML(e,t,n){var o=document.querySelector("meta[name='csrf-token']").getAttribute("content"),r=userData(),i="";r&&!r.codeOfConduct&&r.commentCount<1&&(i='<div class="code-of-conduct sub-comment-code-of-conduct" style="display:block" id="toggle-code-of-conduct-checkbox">                            <input class="checkbox" type="checkbox" name="checked_code_of_conduct" required />                            <label for="checked_code_of_conduct">I\'ve read the <a href="https://dev.to/code-of-conduct">code of conduct</a></label>                          </div>');var a=Math.floor(1991*Math.random());return'<form class="new_comment" onsubmit="handleCommentSubmit.bind(this)(event)" id="new-comment-'+n+'" action="/comments" accept-charset="UTF-8" method="post" data-comment-id="'+n+'">            <input name="utf8" type="hidden" value="&#x2713;" />            <input type="hidden" name="authenticity_token" value="'+o+'">            <input value="'+e+'" type="hidden" name="comment[commentable_id]" id="comment_commentable_id" />            <input value="'+t+'" type="hidden" name="comment[commentable_type]" id="comment_commentable_type" />            <input value="'+n+'" type="hidden" name="comment[parent_id]" id="comment_parent_id" />            <div class="response-templates-container hidden">              <header>                <button type="button" class="personal-template-button active" data-target-type="personal">PERSONAL</button>                <button type="button" class="moderator-template-button hidden" data-target-type="moderator">MODERATOR</button>              </header>              <img class="loading-img hidden" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/loading-ellipsis-0339306544150384d710ea2b5f0a78be68b6389fe728a7ded105fa8a53067ac5.svg" alt="loading">              <div class="personal-responses-container">              </div>              <div class="moderator-responses-container hidden">              </div>              <a target="_blank" rel="noopener nofollow" href="/settings/response-templates">Create new template</a>            </div>            <textarea id="textarea-for-'+n+'" class="embiggened" name="comment[body_markdown]" id="comment_body_markdown" required onkeydown="handleKeyDown.bind(this)(event)"></textarea>            '+'<div class="preview-toggle comment-preview-div body"></div>'+"                "+i+'            <a href="/p/editor_guide" class="markdown-guide" target="_blank" rel="noopener" title="Markdown Guide">              <img alt="markdown guide" class="icon-image" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/info-4bc41b236b6878aef63b8dd32fd80cc4d7d899d3c01be56b5cdff3779c9c0f22.svg" />            </a>            <div class="editor-response-templates in-reply">              <button class="response-templates-button" title="Use a response template" type="button" data-has-listener="false">                <img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/response-template-e2d75fef934dd2d1ad65a25a0eee33bdf38d08d16c63a18ec95aa800210570b9.svg" alt="" class="icon-image">              </button>            </div>            <div class="editor-image-upload">              <input type="file" id="image-upload-'+a+'"  name="file" accept="image/*" style="display:none">              <button title="Upload Image" class="image-upload-button" id="image-upload-button-'+a+'" onclick="handleImageUpload(event,'+a+')">                <img alt="upload image" class="icon-image" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/image-upload-fd35a7aa351476da943280a637ce568b87c0ea39f4ed8d73c8733cb4284b3dc9.svg" />              </button>              <label  class="image-upload-file-label" id="image-upload-file-label-'+a+'"></label>              <input type="submit" id="image-upload-submit-'+a+'" value="Upload" style="display:none">              <input class="uploaded-image" id="uploaded-image-'+a+'" />            </div>            <div class="actions reply-actions">              <a href="#" class="cancel" onclick="cancel(event,this)">CANCEL</a>              '+'<button id="preview-button" class="comment-action-button comment-action-preview" onclick="handleCommentPreview(event)">PREVIEW</button>'+'              <input type="submit" class="comment-action-button" name="commit" value="SUBMIT" />            </div>          </form>'}function cancel(e,t){e.preventDefault(),replaceActionButts(t.parentNode.parentNode.parentNode.parentNode),initializeCommentsPage()}function buildCommentHTML(e){var t="",n="",o="",r="",i="",a="";return t=e.newly_created?0==e.depth?"root":e.depth<3?"child":"child flat-node":"child flat-node",e.user.twitter_username&&e.user.twitter_username.length>0&&(o='<a href="http://twitter.com/'+e.user.twitter_username+'" rel="noopener noreferrer" target="_blank"><img class="icon-img" alt="twitter logo" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/twitter-logo-42be7109de07f8c991a9832d432c9d12ec1a965b5c0004bca9f6aa829ae43209.svg" /></a>'),e.user.github_username&&e.user.github_username.length>0&&(n='<a href="http://github.com/'+e.user.github_username+'" rel="noopener noreferrer" target="_blank"><img class="icon-img" alt="github logo" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/github-logo-6a5bca60a4ebf959a6df7f08217acd07ac2bc285164fae041eacb8a148b1bab9.svg" /></a>'),e.newly_created&&(r="comment-created-via-fetch"),e.depth<3&&(i="<details open><summary><span>&nbsp;</span></summary>",a="</details>"),"<style>"+e.css+"</style>          "+i+'          <div class="comment-hash-marker" id="'+e.id_code+'"></div>          <div id="comment-node-'+e.id+'" class="single-comment-node '+t+" comment-deep-"+e.depth+'" "          data-comment-id="'+e.id+'" data-comment-author-id="'+e.user.id+'" data-current-user-comment="'+e.newly_created+'" data-content-user-id="'+e.user.id+'">          <div class="inner-comment '+r+'">            <div class="details">              <a href="/'+e.user.username+'">                <img class="profile-pic" src="'+e.user.profile_pic+'" alt="'+e.user.username+'">                <span class="comment-username"><span class="comment-username-inner">'+e.user.name+"</span></span>              </a>                "+o+"                "+n+'              <div class="comment-date">                <a href="'+e.url+'">                  <time datetime="'+e.published_timestamp+'">                    '+e.readable_publish_date+'                  </time>                </a>              </div>              <button class="dropbtn">                <img class="dropdown-icon" alt="Toggle dropdown menu" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/three-dots-524ca96c2f4d8758a6a79c547d67d0afc164227a43d5e4a3b6a6b7aef301908b.svg" />              </button>              <div class="dropdown">                  <div class="dropdown-content">                    <a href="'+e.url+'">                      Permalink                    </a>                    <a href="'+e.url+'/settings">                      Settings                    </a>                    <a href="/report-abuse?url=https://dev.to'+e.url+'">Report Abuse</a>                  </div>              </div>            </div>            <div class="body">              '+e.body_html+"              "+reactions(e)+"            </div>            "+actions(e)+"          </div>      </div>      "+a}function actions(e){return e.newly_created?'<div class="actions" data-comment-id="'+e.id+'" data-path="'+e.url+'">              <span class="current-user-actions" style="display: '+(e.newly_created?"inline-block":"none")+';">                <a data-no-instant="" href="'+e.url+'/delete_confirm" class="edit-butt" rel="nofollow">DELETE</a>                <a href="'+e.url+'/edit" class="edit-butt" rel="nofollow">EDIT</a>              </span>                <a href="#" class="toggle-reply-form" rel="nofollow">REPLY</a>            </div>':'<div class="actions" data-comment-id="'+e.id+'" data-path="'+e.url+'" data-commentable-id="'+e.commentable.id+'">                <a href="'+e.url+'" rel="nofollow">VIEW/REPLY</a>            </div>'}function reactions(e){if(e.newly_created)return'<button class="reaction-button reacted" id="button-for-comment-'+e.id+'" data-comment-id="'+e.id+'">              <img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/favorite-heart-outline-button-7e0b48733c5e33a60d3c23e57d4d27fc9abcfb2ea3597132f3ae1329c059752d.svg" alt="Favorite heart outline button">              <img class="voted-heart" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/emoji/emoji-one-heart-855b5a6263042e4c9448cf2cb0dd2e201598b77b1e3f1dc041492bc0128d9fb8.png" alt="Favorite heart button">              <span class="reactions-count" id="reactions-count-'+e.id+'">1</span></button>';if(e.heart_ids.indexOf(userData().id)>-1)var t="reacted";else t="";return'<button style="background:white" class="reaction-button '+t+'" id="button-for-comment-'+e.id+'" data-comment-id="'+e.id+'">              <img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/favorite-heart-outline-button-7e0b48733c5e33a60d3c23e57d4d27fc9abcfb2ea3597132f3ae1329c059752d.svg" alt="Favorite heart outline button">              <img class="voted-heart" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/emoji/emoji-one-heart-855b5a6263042e4c9448cf2cb0dd2e201598b77b1e3f1dc041492bc0128d9fb8.png" alt="Favorite heart button">              <span class="reactions-count" id="reactions-count-'+e.id+'">'+e.positive_reactions_count+"</span></button>"}function checkUserLoggedIn(){const e=document.getElementsByTagName("body")[0];return!!e&&"logged-in"===e.getAttribute("data-user-status")}function getCsrfToken(){return new Promise(function(e,t){var n=0,o=setInterval(function(){var r=document.querySelector("meta[name='csrf-token']");if(n++,r){clearInterval(o);var i=r.getAttribute("content");return e(i)}if(1e3===n)return clearInterval(o),Honeybadger.notify("Could not locate CSRF metatag "+JSON.stringify(localStorage.current_user)),t("Could not locate CSRF meta tag on the page.")},5)})}function getCurrentPage(e){return document.querySelectorAll("[data-current-page='"+e+"']").length>0}function getImageForLink(e){var t=e.getAttribute("data-preload-image");t&&-1===$fetchedImageUrls.indexOf(t)&&((new Image).src=t,$fetchedImageUrls.push(t))}function insertAfter(e,t){t&&t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}function timestampToLocalDateTime(e,t,n){if(""===e)return"";try{var o=new Date(e);return new Intl.DateTimeFormat(t||"default",n).format(o)}catch(r){return""}}function addLocalizedDateTimeToElementsTitles(e,t){for(var n={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},o=0;o<e.length;o+=1){var r=e[o],i=r.getAttribute(t||"datetime");if(i){var a=timestampToLocalDateTime(i,navigator.language,n);r.setAttribute("title",a)}}}function localizeTimeElements(e,t){for(let n=0;n<e.length;n+=1){const o=e[n],r=o.getAttribute("datetime");if(r){const e=timestampToLocalDateTime(r,navigator.language,t);o.textContent=e}}}function localStorageTest(){var e="devtolocalstoragetestforavaialbility";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}function preventDefaultAction(e){e.preventDefault()}function sendFetch(e,t){switch(e){case"article-preview":return fetchCallback({url:"/articles/preview",headers:{Accept:"application/json","Content-Type":"application/json"},body:t});case"reaction-creation":return fetchCallback({url:"/reactions",addTokenToBody:!0,body:t});case"image-upload":return fetchCallback({url:"/image_uploads",addTokenToBody:!0,body:t});case"follow-creation":return fetchCallback({url:"/follows",addTokenToBody:!0,body:t});case"chat-creation":return fetchCallback({url:"/chat_channels/create_chat",addTokenToBody:!0,body:t});case"block-user":return fetchCallback({url:"/user_blocks",headers:{Accept:"application/json","Content-Type":"application/json"},addTokenToBody:!1,body:t});case"comment-creation":return fetchCallback({url:"/comments",headers:{"Content-Type":"application/json"},body:t});case"comment-preview":return fetchCallback({url:"/comments/preview",headers:{"Content-Type":"application/json"},body:t});default:console.log("A wrong switchStatement was used.")}return!0}function sendHapticMessage(e){try{window&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.haptic&&window.webkit.messageHandlers.haptic.postMessage(e)}catch(t){console.log(t.message)}}function initSignupModal(){document.getElementById("global-signup-modal")&&(document.getElementById("global-signup-modal-bg").onclick=(()=>{document.getElementById("global-signup-modal").style.display="none",document.getElementById("global-signup-modal").classList.remove("showing"),document.getElementsByTagName("body")[0].classList.remove("modal-open")}))}function showModal(){document.getElementById("global-signup-modal").style.display="block",document.getElementById("global-signup-modal").classList.add("showing"),document.getElementsByTagName("body")[0].classList.add("modal-open"),initSignupModal()}function slideSidebar(e,t){document.getElementById("sidebar-wrapper-"+e)&&("intoView"===t?(document.getElementById("articles-list").classList.add("modal-open"),document.getElementsByTagName("body")[0].classList.add("modal-open"),document.getElementById("sidebar-wrapper-"+e).classList.add("swiped-in"),document.getElementById("articles-list").addEventListener("touchmove",preventDefaultAction,!1)):(document.getElementById("articles-list").classList.remove("modal-open"),document.getElementsByTagName("body")[0].classList.remove("modal-open"),document.getElementById("sidebar-wrapper-"+e).querySelector(".side-bar").scrollTop=0,document.getElementById("sidebar-wrapper-"+e).classList.remove("swiped-in"),document.getElementById("articles-list").removeEventListener("touchmove",preventDefaultAction,!1)))}function secondsToHumanUnitAgo(e){const t=[["second",1],["min",60],["hour",3600],["day",86400],["week",604800],["month",2592e3],["year",31536e3]];if(e<t[0][1])return"just now";let n=0;for(;n+1<t.length&&e>=t[n+1][1];)n+=1;const o=Math.floor(e/t[n][1]);return o+" "+(t[n][0]+(1===o?"":"s"))+" ago"}function timeAgo({oldTimeInSeconds:e,formatter:t=(e=>`<span class="time-ago-indicator">(${e})</span>`),maxDisplayedAge:n=86399}){const o=new Date/1e3,r=Math.round(o-e);return r>n?"":t(secondsToHumanUnitAgo(r))}function userData(){const{user:e=null}=document.body.dataset;return JSON.parse(e)}function initializePage(){initializeLocalStorageRender(),initializeStylesheetAppend(),callInitalizers()}function callInitalizers(){initializeLocalStorageRender(),initializeBodyData();var e=setInterval(function(){"true"==document.getElementsByTagName("body")[0].getAttribute("data-loaded")&&(clearInterval(e),"logged-in"==document.getElementsByTagName("body")[0].getAttribute("data-user-status")&&(initializeBaseUserData(),initializeAllChatButtons(),initializeAllTagEditButtons()),initializeAllFollowButts(),initializeReadingListIcons(),initializeSponsorshipVisibility(),document.getElementById("sidebar-additional")&&document.getElementById("sidebar-additional").classList.add("showing"))},1);initializeBaseTracking(),initializeTouchDevice(),initializeCommentsPage(),initializeArticleDate(),initializeArticleReactions(),initNotifications(),initializeStylesheetAppend(),initializeCommentDate(),initializeCommentDropdown(),initializeSettings(),initializeFooterMod(),initializeCommentPreview(),initializeAdditionalContentBoxes(),initializeTimeFixer(),initializeDashboardSort(),initializePWAFunctionality(),initializeEllipsisMenu(),initializeArchivedPostFilter(),initializeCreditsPage(),initializeUserProfilePage(),initializePodcastPlayback(),initializeDrawerSliders(),initializeHeroBannerClose(),nextPage=0,fetching=!1,done=!1,adClicked=!1,setTimeout(function(){done=!1},300),initScrolling.called||initScrolling()}function initializeBaseApp(){InstantClick.on("change",function(){initializePage()}),InstantClick.init()}var client,negativeFollow=-1,KEY_CODE_B=66,KEY_CODE_I=73,KEY_CODE_K=75,ENTER_KEY_CODE=13,audioInitialized=!1,$fetchedImageUrls=[];const fetchCallback=({url:e,headers:t={},addTokenToBody:n=!1,body:o})=>r=>(n&&o.append("authenticity_token",r),window.fetch(e,{method:"POST",headers:{"X-CSRF-Token":r,...t},body:o,credentials:"same-origin"}));"undefined"!=typeof globalThis&&(globalThis.timeAgo=timeAgo),function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n||e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){function o(){return{}}function r(){}function i(){}function a(){}function s(){}function c(e){return e.replace(I,"&lt;").replace(x,"&gt;")}function l(e,t,n,o){if(n=h(n),"href"===t||"src"===t){if("#"===(n=T.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(N.lastIndex=0,N.test(n))return""}else if("style"===t){if(R.lastIndex=0,R.test(n))return"";if(O.lastIndex=0,O.test(n)&&(N.lastIndex=0,N.test(n)))return"";!1!==o&&(n=(o=o||k).process(n))}return n=g(n)}function u(e){return e.replace(S,"&quot;")}function d(e){return e.replace(L,'"')}function m(e){return e.replace(B,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function f(e){return e.replace(C,":").replace(A," ")}function p(e){for(var t="",n=0,o=e.length;n<o;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return T.trim(t)}function h(e){return e=p(e=f(e=m(e=d(e))))}function g(e){return e=c(e=u(e))}function y(){return""}function v(e,t){function n(t){return!!o||-1!==T.indexOf(e,t)}"function"!=typeof t&&(t=function(){});var o=!Array.isArray(e),r=[],i=!1;return{onIgnoreTag:function(e,o,a){if(n(e)){if(a.isClosing){var s="[/removed]",c=a.position+s.length;return r.push([!1!==i?i:a.position,c]),i=!1,s}return i||(i=a.position),"[removed]"}return t(e,o,a)},remove:function(e){var t="",n=0;return T.forEach(r,function(o){t+=e.slice(n,o[0]),n=o[1]}),t+=e.slice(n)}}}function b(e){return e.replace(j,"")}function w(e){var t=e.split("");return(t=t.filter(function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))})).join("")}var _=e("cssfilter").FilterCSS,E=e("cssfilter").getDefaultWhiteList,T=e("./util"),k=new _,I=/</g,x=/>/g,S=/"/g,L=/&quot;/g,B=/&#([a-zA-Z0-9]*);?/gim,C=/&colon;?/gim,A=/&newline;?/gim,N=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,R=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,O=/u\s*r\s*l\s*\(.*/gi,j=/<!--[\s\S]*?-->/g;n.whiteList=o(),n.getDefaultWhiteList=o,n.onTag=r,n.onIgnoreTag=i,n.onTagAttr=a,n.onIgnoreTagAttr=s,n.safeAttrValue=l,n.escapeHtml=c,n.escapeQuote=u,n.unescapeQuote=d,n.escapeHtmlEntities=m,n.escapeDangerHtml5Entities=f,n.clearNonPrintableCharacter=p,n.friendlyAttrValue=h,n.escapeAttrValue=g,n.onIgnoreTagStripAll=y,n.StripTagBody=v,n.stripCommentTag=b,n.stripBlankChar=w,n.cssFilter=k,n.getDefaultCSSWhiteList=E},{"./util":4,cssfilter:8}],2:[function(e,t,n){function o(e,t){return new a(t).process(e)}var r=e("./default"),i=e("./parser"),a=e("./xss");for(var s in(n=t.exports=o).FilterXSS=a,r)n[s]=r[s];for(var s in i)n[s]=i[s];"undefined"!=typeof window&&(window.filterXSS=t.exports)},{"./default":1,"./parser":3,"./xss":5}],3:[function(e,t,n){function o(e){var t=e.indexOf(" ");if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=d.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function r(e){return"</"===e.slice(0,2)}function i(e,t,n){"user strict";var i="",a=0,s=!1,c=!1,l=0,u=e.length,d="",m="";for(l=0;l<u;l++){var f=e.charAt(l);if(!1===s){if("<"===f){s=l;continue}}else if(!1===c){if("<"===f){i+=n(e.slice(a,l)),s=l,a=l;continue}if(">"===f){i+=n(e.slice(a,s)),m=o(d=e.slice(s,l+1)),i+=t(s,i.length,m,d,r(d)),a=l+1,s=!1;continue}if(('"'===f||"'"===f)&&"="===e.charAt(l-1)){c=f;continue}}else if(f===c){c=!1;continue}}return a<e.length&&(i+=n(e.substr(a))),i}function a(e,t){"user strict";function n(e,n){if(!((e=(e=d.trim(e)).replace(m,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&r.push(o)}}for(var o=0,r=[],i=!1,a=e.length,l=0;l<a;l++){var f,p=e.charAt(l);if(!1!==i||"="!==p)if(!1===i||l!==o||'"'!==p&&"'"!==p||"="!==e.charAt(l-1))if(" "!==p);else{if(!1===i){if(-1===(f=s(e,l))){n(d.trim(e.slice(o,l))),i=!1,o=l+1;continue}l=f-1;continue}if(-1===(f=c(e,l-1))){n(i,u(d.trim(e.slice(o,l)))),i=!1,o=l+1;continue}}else{if(-1===(f=e.indexOf(p,l+1)))break;n(i,d.trim(e.slice(o+1,f))),i=!1,o=(l=f)+1}else i=e.slice(o,l),o=l+1}return o<e.length&&(!1===i?n(e.slice(o)):n(i,u(d.trim(e.slice(o))))),d.trim(r.join(" "))}function s(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function c(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function l(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}function u(e){return l(e)?e.substr(1,e.length-2):e}var d=e("./util"),m=/[^a-zA-Z0-9_:\.\-]/gim;n.parseTag=i,n.parseAttr=a},{"./util":4}],4:[function(e,t){t.exports={indexOf:function(e,t){var n,o;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var o,r;if(Array.prototype.forEach)return e.forEach(t,n);for(o=0,r=e.length;o<r;o++)t.call(n,e[o],o,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")}}},{}],5:[function(e,t){function n(e){return e===undefined||null===e}function o(e){var t=e.indexOf(" ");if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=d.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=d.trim(e.slice(0,-1))),{html:e,closing:n}}function r(e){var t={};for(var n in e)t[n]=e[n];return t}function i(e){(e=r(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=s.onIgnoreTagStripAll),e.whiteList=e.whiteList||s.whiteList,e.onTag=e.onTag||s.onTag,e.onTagAttr=e.onTagAttr||s.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||s.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||s.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||s.safeAttrValue,e.escapeHtml=e.escapeHtml||s.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new a(e.css))}var a=e("cssfilter").FilterCSS,s=e("./default"),c=e("./parser"),l=c.parseTag,u=c.parseAttr,d=e("./util");i.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this,r=t.options,i=r.whiteList,a=r.onTag,c=r.onIgnoreTag,m=r.onTagAttr,f=r.onIgnoreTagAttr,p=r.safeAttrValue,h=r.escapeHtml,g=t.cssFilter;r.stripBlankChar&&(e=s.stripBlankChar(e)),r.allowCommentTag||(e=s.stripCommentTag(e));var y=!1;if(r.stripIgnoreTagBody){y=s.StripTagBody(r.stripIgnoreTagBody,c);c=y.onIgnoreTag}var v=l(e,function(e,t,r,s,l){var y,v={sourcePosition:e,position:t,isClosing:l,isWhite:r in i};if(!n(y=a(r,s,v)))return y;if(v.isWhite){if(v.isClosing)return"</"+r+">";var b=o(s),w=i[r],_=u(b.html,function(e,t){var o,i=-1!==d.indexOf(w,e);return n(o=m(r,e,t,i))?i?(t=p(r,e,t,g))?e+'="'+t+'"':e:n(o=f(r,e,t,i))?void 0:o:o});s="<"+r;return _&&(s+=" "+_),b.closing&&(s+=" /"),s+=">"}return n(y=c(r,s,v))?h(s):y},h);return y&&(v=y.remove(v)),v},t.exports=i},{"./default":1,"./parser":3,"./util":4,cssfilter:8}],6:[function(e,t){function n(e){return e===undefined||null===e}function o(e){var t={};for(var n in e)t[n]=e[n];return t}function r(e){(e=o(e||{})).whiteList=e.whiteList||i.whiteList,e.onAttr=e.onAttr||i.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||i.onIgnoreAttr,this.options=e}var i=e("./default"),a=e("./parser");e("./util");r.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,o=t.whiteList,r=t.onAttr,i=t.onIgnoreAttr;return a(e,function(e,t,a,s,c){var l=o[a],u=!1;!0===l?u=l:"function"==typeof l?u=l(s):l instanceof RegExp&&(u=l.test(s)),!0!==u&&(u=!1);var d,m={position:t,sourcePosition:e,source:c,isWhite:u};return u?n(d=r(a,s,m))?a+":"+s:d:n(d=i(a,s,m))?void 0:d})},t.exports=r},{"./default":7,"./parser":9,"./util":10}],7:[function(e,t,n){function o(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,
"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}function r(){}function i(){}n.whiteList=o(),n.getDefaultWhiteList=o,n.onAttr=r,n.onIgnoreAttr=i},{}],8:[function(e,t,n){function o(e,t){return new i(t).process(e)}var r=e("./default"),i=e("./css");for(var a in(n=t.exports=o).FilterCSS=i,r)n[a]=r[a];"undefined"!=typeof window&&(window.filterCSS=t.exports)},{"./css":6,"./default":7}],9:[function(e,t){function n(e,t){function n(){if(!i){var n=o.trim(e.slice(a,s)),r=n.indexOf(":");if(-1!==r){var l=o.trim(n.slice(0,r)),u=o.trim(n.slice(r+1));if(l){var d=t(a,c.length,l,u,n);d&&(c+=d+"; ")}}}a=s+1}";"!==(e=o.trimRight(e))[e.length-1]&&(e+=";");for(var r=e.length,i=!1,a=0,s=0,c="";s<r;s++){var l=e[s];if("/"===l&&"*"===e[s+1]){var u=e.indexOf("*/",s+2);if(-1===u)break;a=(s=u+1)+1,i=!1}else"("===l?i=!0:")"===l?i=!1:";"===l?i||n():"\n"===l&&n()}return o.trim(c)}var o=e("./util");t.exports=n},{"./util":10}],10:[function(e,t){t.exports={indexOf:function(e,t){var n,o;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var o,r;if(Array.prototype.forEach)return e.forEach(t,n);for(o=0,r=e.length;o<r;o++)t.call(n,e[o],o,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},{}]},{},[2]),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Honeybadger=t()}(this,function(){"use strict";function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(t,n){function o(t){if(!t||"object"!==e(t))return!1;for(var n=0;n<a.length;n++){if(a[n]===t)return!0}return a.push(t),!1}function r(t){return!/function|symbol/.test(e(t))&&(null!==t&&("object"!==e(t)||"undefined"!=typeof t.hasOwnProperty))}function i(t,a){if(a||(a=0),a>=n)return"[DEPTH]";if(!r(t))return Object.prototype.toString.call(t);if(o(t))return"[RECURSION]";if(Array.isArray(t))return t.map(function(e){return i(e,a+1)});if("object"===e(t)){var s={};for(var c in t){var l=t[c];Object.prototype.hasOwnProperty.call(t,c)&&null!=c&&null!=l&&(s[c]=i(l,a+1))}return s}return t}var a=[];return i(t)}function n(e){if(!e||!e.tagName)return"";var t=e.tagName.toLowerCase();if("html"===t)return"";e.id&&(t+="#".concat(e.id));var n=e.getAttribute("class");n&&n.split(/\s+/).forEach(function(e){t+=".".concat(e)}),["alt","name","title","type"].forEach(function(n){var o=e.getAttribute(n);o&&(t+="[".concat(n,'="').concat(o,'"]'))});var o=l(e);return o.length>1&&(t+=":nth-child(".concat(Array.prototype.indexOf.call(o,e)+1,")")),t}function o(e){var t=n(e);if(e.parentNode&&e.parentNode.tagName){var r=o(e.parentNode);if(r.length>0)return"".concat(r," > ").concat(t)}return t}function r(e){var t=e.textContent||e.innerText||"";return t||"submit"!==e.type&&"button"!==e.type||(t=e.value),u(t.trim(),300)}function i(){if(!window.fetch)return!1;if(a(window.fetch))return!0;try{var e=document.createElement("iframe");e.style.display="none",document.head.appendChild(e);var t=e.contentWindow.fetch&&a(e.contentWindow.fetch);return document.head.removeChild(e),t}catch(n){console&&console.warn&&console.warn("failed to detect native fetch via iframe: "+n)}return!1}function a(e){return-1!==e.toString().indexOf("native")}function s(e){var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/)||{};return{protocol:t[2],host:t[4],pathname:t[5]}}function c(e){var t=s(e),n=s(document.URL);return t.host&&t.protocol?t.protocol===n.protocol&&t.host===n.host?t.pathname:"".concat(t.protocol,"://").concat(t.host).concat(t.pathname):t.pathname}function l(e){try{var t=e.parentNode.childNodes,n=[];return Array.prototype.forEach.call(t,function(t){t.tagName&&t.tagName===e.tagName&&n.push(t)}),n}catch(o){return[]}}function u(e,t){return e.length>t&&(e=e.substr(0,t)+"..."),e}function d(){function a(e,t){var n={};for(var o in e)n[o]=e[o];for(var o in t)n[o]=t[o];return n}function s(t){if("object"!==e(t))return{};var n={};for(var o in t)n[o]=t[o];return n}function l(e,t){var n=a(e,t);return e.context&&t.context&&(n.context=a(e.context,t.context)),n}function u(e){return!!b&&(b.name===e.name&&(b.message===e.message&&b.stack===e.stack))}function d(e,t){var n=e.message;for(var o in t)if(t[o].test(n))return!0;return!1}function m(){var e={};return e.HTTP_USER_AGENT=navigator.userAgent,document.referrer.match(/\S/)&&(e.HTTP_REFERER=document.referrer),e}function f(t){if("object"!==e(t))return undefined;var n=[];for(var o in t)n.push(o+"="+t[o]);return n.join(";")}function p(e){return e.stacktrace||e.stack||undefined}function h(e){var t,n=10;if(e&&(t=p(e)))return{stack:t,generator:undefined};try{throw new Error("")}catch(r){if(t=p(r))return{stack:t,generator:"throw"}}t=["<call-stack>"];for(var o=arguments.callee;o&&t.length<n;){/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?t.push(RegExp.$1||"<anonymous>"):t.push("<anonymous>");try{o=o.caller}catch(r){break}}return{stack:t.join("\n"),generator:"walk"}}function g(e,t,n){var o,r;for(o=0,r=e.length;o<r;o++)if(!1===(0,e[o])(t,n))return!0;return!1}function y(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function v(e){return"function"!=typeof Object.isExtensible||Object.isExtensible(e)}var b,w="2.2.1",_={name:"honeybadger-js",url:"https://github.com/honeybadger-io/honeybadger-js",version:w,language:"javascript"},E=!1,T=!1;return function(k){function I(){var e=window.console;if(e){var t=Array.prototype.slice.call(arguments);t.unshift("[Honeybadger]"),e.log.apply(e,t)}}function x(){if(S("debug"))return I.apply(this,arguments)}function S(e,t){var n=z[e];return n===undefined&&(n=z[e.toLowerCase()]),"false"===n&&(n=!1),n!==undefined?n:t}function L(){return!q&&S("onerror",!0)}function B(){return!q&&S("onunhandledrejection",!0)}function C(){return S("breadcrumbsEnabled",!0)}function A(){return"http"+(S("ssl",!0)?"s":"")+"://"+S("host","api.honeybadger.io")}function N(e,n){try{var o=O(n),r=new XMLHttpRequest;r.open("POST",A()+"/v1/notices/js",S("async",!0)),r.setRequestHeader("X-API-Key",e),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Accept","text/json, application/json"),r.send(JSON.stringify(t(o,S("max_depth",8)))),r.onload=function(){var e=Array.prototype.slice.call(z.afterNotifyHandlers);if(n.afterNotify&&e.unshift(n.afterNotify),201!==r.status)return g(e,new Error("Bad HTTP response: ".concat(r.status)),n),void x("Unable to send error report: ".concat(r.status,": ").concat(r.statusText),r,n);g(e,undefined,a(n,{id:JSON.parse(r.response).id})),x("Error report sent",o)}}catch(i){g(z.afterNotifyHandlers,i,n),I("Unable to send error report: error while initializing request",i,n)}}function R(e){if(b=null,S("disabled",!1))return x("Dropping notice: honeybadger.js is disabled",e),!1;var t=S("apiKey",S("api_key"));return t?D()?(x("Dropping notice: max errors exceeded",e),!1):(H(),N(t,e),!0):(I("Unable to send error report: no API key has been configured"),!1)}function O(t){var n=m();return"string"==typeof t.cookies?n.HTTP_COOKIE=t.cookies:"object"===e(t.cookies)&&(n.HTTP_COOKIE=f(t.cookies)),{notifier:_,breadcrumbs:{enabled:C(),trail:t.breadcrumbs},error:{"class":t.name,message:t.message,backtrace:t.stack,generator:t.generator,fingerprint:t.fingerprint},request:{url:t.url,component:t.component,action:t.action,context:t.context,cgi_data:n,params:t.params},server:{project_root:t.projectRoot,environment_name:t.environment,revision:t.revision}}}function j(t,n){if(t||(t={}),"[object Error]"===Object.prototype.toString.call(t)){var o=t;t=a(t,{name:o.name,message:o.message,stack:p(o)})}if("object"!==e(t)){var r=String(t);t={message:r}}if(u(t))return!1;if(b&&E&&R(b),y(t))return!1;var i;n&&(t.stack=n.stack,i=n.generator),t=a(t,{name:t.name||"Error",context:a(z.context,t.context),url:t.url||document.URL,projectRoot:t.projectRoot||t.project_root||S("projectRoot",S("project_root",window.location.protocol+"//"+window.location.host)),environment:t.environment||S("environment"),component:t.component||S("component"),action:t.action||S("action"),revision:t.revision||S("revision")}),z.addBreadcrumb("Honeybadger Notice",{category:"notice",metadata:{message:t.message,name:t.name,stack:t.stack}}),t.breadcrumbs=z.breadcrumbs.slice();var s=t.stack;return!g(z.beforeNotifyHandlers,t)&&(t.stack!=s&&(i=undefined),!d(t,S("ignorePatterns"))&&(t.generator=i,b=t,E?(x("Deferring notice",t),window.setTimeout(function(){u(t)&&R(t)})):(x("Queuing notice",t),F.push(t)),t))}function P(e,t){t||(t={});try{return"function"!=typeof e?e:v(e)?(e.___hb||(e.___hb=function(){var n=L();if(!(X&&(n||t.force)||t.force&&!n))return e.apply(this,arguments);try{return e.apply(this,arguments)}catch(r){var o={stack:p(r)};throw z.addBreadcrumb(t.component?"".concat(t.component,": ").concat(r.name):r.name,{category:"error",metadata:{message:r.message,name:r.name,stack:o.stack}}),j(r,o),r}}),e.___hb.___hb=e.___hb,e.___hb):e}catch(n){return e}}function M(e,t,n){if(!q&&e&&t&&n&&t in e){for(var o=e[t];o&&o.__hb_original;)o=o.__hb_original;e[t]=n(o),e[t].__hb_original=o}}function H(){return z.errorsSent++}function D(){var e=S("maxErrors");return e&&z.errorsSent>=e}var q=T,U=[],F=[],z={context:{},beforeNotifyHandlers:[],afterNotifyHandlers:[],breadcrumbs:[],errorsSent:0};if("object"===e(k))for(var J in k)z[J]=k[J];var X=!0;if(window.atob||(X=!1),window.ErrorEvent)try{0===new window.ErrorEvent("").colno&&(X=!1)}catch(K){}z.notify=function(t,n,o){if(t||(t={}),"[object Error]"===Object.prototype.toString.call(t)){var r=t;t=a(t,{name:r.name,message:r.message,stack:p(r)})}"object"!==e(t)&&(t={message:String(t)});n&&"object"!==e(n)&&(n={name:String(n)});return n&&(t=l(t,n)),"object"===e(o)&&(t=l(t,o)),j(t,h(t))},z.wrap=function(e){return P(e,{force:!0})},z.setContext=function(t){return"object"===e(t)&&(z.context=a(z.context,t)),z},z.resetContext=function(t){return"object"===e(t)?z.context=a({},t):z.context={},z},z.configure=function(e){for(var t in e)z[t]=e[t];return z},z.beforeNotify=function(e){return z.beforeNotifyHandlers.push(e),z},z.afterNotify=function(e){return z.afterNotifyHandlers.push(e),z};var V=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};for(var J in z.reset=function(){for(var e in z.context={},z.beforeNotifyHandlers=[],z.breadcrumbs=[],z)-1==V.call(U,e)&&(z[e]=undefined);return z.resetMaxErrors(),z},z.resetMaxErrors=function(){return z.errorsSent=0},z.getVersion=function(){return w},z.addBreadcrumb=function(e,t){if(C()){var n=s((t=t||{}).metadata),o=t.category||"custom",r=(new Date).toISOString();z.breadcrumbs.push({category:o,message:e,metadata:n,timestamp:r});var i=S("maxBreadcrumbs",40);return z.breadcrumbs.length>i&&(z.breadcrumbs=z.breadcrumbs.slice(z.breadcrumbs.length-i)),z}},window.addEventListener("click",function(e){var t,i,a;try{t=n(e.target),i=o(e.target),a=r(e.target)}catch(s){t="UI Click",i="[unknown]",a="[unknown]"}0!==t.length&&z.addBreadcrumb(t,{category:"ui.click",metadata:{selector:i,text:a,event:e}})},!0),M(XMLHttpRequest.prototype,"open",function(e){return function(){var t=this,n=arguments[1],o="string"==typeof arguments[0]?arguments[0].toUpperCase():arguments[0],r="".concat(o," ").concat(c(n));this.__hb_xhr={type:"xhr",method:o,url:n,message:r},"function"==typeof e&&e.apply(t,arguments)}}),M(XMLHttpRequest.prototype,"send",function(e){return function(){function t(){var e;4===n.readyState&&(n.__hb_xhr&&(n.__hb_xhr.status_code=n.status,e=n.__hb_xhr.message,delete n.__hb_xhr.message),z.addBreadcrumb(e||"XMLHttpRequest",{category:"request",metadata:n.__hb_xhr}))}var n=this;"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?M(n,"onreadystatechange",function(e){return function(){t(),"function"==typeof e&&e.apply(this,arguments)}}):n.onreadystatechange=t,"function"==typeof e&&e.apply(n,arguments)}}),i()&&M(window,"fetch",function(e){return function(){var t,n=arguments[0],o="GET";"string"==typeof n?t=n:"Request"in window&&n instanceof Request?(t=n.url,n.method&&(o=n.method)):t=String(n),arguments[1]&&arguments[1].method&&(o=arguments[1].method),"string"==typeof o&&(o=o.toUpperCase());var r="".concat(o," ").concat(c(t)),i={type:"fetch",method:o,url:t};return e.apply(this,arguments).then(function(e){return i.status_code=e.status,z.addBreadcrumb(r,{category:"request",metadata:i}),e})["catch"](function(e){throw z.addBreadcrumb("fetch error",{category:"error",metadata:i}),e})}}),function(){function e(e,t){n=t,z.addBreadcrumb("Page changed",{category:"navigation",metadata:{from:e,to:t}})}function t(t){return function(){var o=arguments.length>2?arguments[2]:undefined;return o&&e(n,String(o)),t.apply(this,arguments)}}var n=window.location.href;M(window,"onpopstate",function(t){return function(){if(e(n,window.location.href),t)return t.apply(this,arguments)}}),M(window.history,"pushState",t),M(window.history,"replaceState",t)}(),function(){function e(e){return Array.isArray(e)?e.map(function(e){try{return String(e)}catch(t){return"[unknown]"}}).join(" "):""}["debug","info","warn","error","log"].forEach(function(n){M(window.console,n,function(o){return function(){var r=Array.prototype.slice.call(arguments),i=e(r),a={category:"log",metadata:{level:n,arguments:t(r,3)}};z.addBreadcrumb(i,a),"function"==typeof o&&Function.prototype.apply.call(o,window.console,arguments)}})})}(),function(){function e(e){return function(t){return function(n,o){if("function"==typeof n){var r=Array.prototype.slice.call(arguments,2);return n=P(n,e),t(function(){n.apply(null,r)},o)}return t(n,o)}}}M(window,"setTimeout",e({component:"setTimeout"})),M(window,"setInterval",e({component:"setInterval"}))}(),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(e){var t=window[e]&&window[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(M(t,"addEventListener",function(t){var n={component:"".concat(e,".prototype.addEventListener")};return function(e,o,r,i){try{o&&null!=o.handleEvent&&(o.handleEvent=P(o.handleEvent,n))}catch(a){I(a)}return t.call(this,e,P(o,n),r,i)}}),M(t,"removeEventListener",function(e){return function(t,n,o,r){return e.call(this,t,n,o,r),e.call(this,t,P(n),o,r)}}))}),M(window,"onerror",function(e){function t(e,t,n,o,r){if(x("window.onerror callback invoked",arguments),!b&&L())if(0===n&&/Script error\.?/.test(e))I("Ignoring cross-domain script error: enable CORS to track these types of errors",arguments);else{var i,a=[e,"\n    at ? (",t||"unknown",":",n||0,":",o||0,")"].join("");r?(i={stack:p(r)}).stack||(i={stack:a}):r={name:"window.onerror",message:e,stack:a},z.addBreadcrumb("window.onerror"!==r.name&&r.name?"window.onerror: ".concat(r.name):"window.onerror",{category:"error",metadata:{message:r.message,name:r.name,stack:i?i.stack:r.stack}}),j(r,i)}}return function(n,o,r,i,a){return t(n,o,r,i,a),!("function"!=typeof e||!S("_onerror_call_orig",!0))&&e.apply(this,arguments)}}),M(window,"onunhandledrejection",function(e){function t(e){if(x("window.onunhandledrejection callback invoked",arguments),!b&&B()){var t=e.reason;if(t instanceof Error){var n=t.fileName||"unknown",o=t.lineNumber||0,r="".concat(t.message,"\n    at ? (").concat(n,":").concat(o,")"),i=p(t)||r,a={name:t.name,message:"UnhandledPromiseRejectionWarning: ".concat(t),stack:i};return z.addBreadcrumb("window.onunhandledrejection: ".concat(a.name),{category:"error",metadata:a}),void j(a)}var s="string"==typeof t?t:JSON.stringify(t);j({name:"window.onunhandledrejection",message:"UnhandledPromiseRejectionWarning: ".concat(s)})}}return function(n){t(n),"function"==typeof e&&e.apply(this,arguments)}}),T=!0,z)U.push(J);if(x("Initializing honeybadger.js "+w),/complete|interactive|loaded/.test(document.readyState))E=!0,x("honeybadger.js "+w+" ready");else{x("Installing ready handler");var W=function(){var e;for(E=!0,x("honeybadger.js "+w+" ready");e=F.pop();)R(e)};document.addEventListener?document.addEventListener("DOMContentLoaded",W,!0):window.attachEvent("onload",W)}return z}}var m=d(),f=m();return f.factory=m,f}),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceworker.js",{scope:"/"}).then(function(){})["catch"](e=>{console.log("ServiceWorker registration failed: ",e)}),window.addEventListener("beforeinstallprompt",e=>{e.userChoice.then(e=>{ga("send","event","PWA-install",e.outcome)})}),function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self),t.ALGOLIA_MIGRATION_LAYER=e()}(function(){return function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n||e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t){function n(e,t){for(var n in t)e.setAttribute(n,t[n])}function o(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}t.exports=function(e,t,i){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"==typeof t&&(i=t,t={}),t=t||{},i=i||function(){},s.type=t.type||"text/javascript",s.charset=t.charset||"utf8",s.async=!("async"in t&&!t.async),s.src=e,t.attrs&&n(s,t.attrs),t.text&&(s.text=""+t.text),("onload"in s?o:r)(s,i),s.onload||o(s,i),a.appendChild(s)}},{}],2:[function(e,t){"use strict";function n(e){for(var t=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+e.replace(".","\\.")+"(?:\\.min)?\\.js$"),n=document.getElementsByTagName("script"),o=!1,r=0,i=n.length;r<i;r++)if(n[r].src&&t.test(n[r].src)){o=!0;break}return o}t.exports=n},{}],3:[function(e,t){"use strict";function n(t){var n=e(1),r="//cdn.jsdelivr.net/algoliasearch/2/"+t+".min.js",i="-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --";window.console&&(window.console.warn?window.console.warn(i):window.console.log&&window.console.log(i));try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true</script>"),!0===window.ALGOLIA_SUPPORTS_DOCWRITE?(document.write('<script src="'+r+'"></script>'),o("document.write")()):n(r,o("DOMElement"))}catch(a){n(r,o("DOMElement"))}}function o(e){return function(){var t="AlgoliaSearch: loaded V2 script using "+e;window.console&&window.console.log&&window.console.log(t)}}t.exports=n},{1:1}],4:[function(e,t){"use strict";function n(){var e="-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --";window.AlgoliaSearch=function(){throw new Error(e)},window.AlgoliaSearchHelper=function(){throw new Error(e)},window.AlgoliaExplainResults=function(){throw new Error(e)}}t.exports=n},{}],5:[function(e){"use strict";function t(t){var n=e(2),o=e(3),r=e(4);n(t)?o(t):r()}t("algoliasearch")},{2:2,3:3,4:4}]},{},[5])(5)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).algoliasearch=e()}}(function(){var e;return function t(e,n,o){function r(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){(function(o){function r(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var o="color: "+this.color;e=[e[0],o,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&("%c"===e&&(i=++r))}),e.splice(i,0,o),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function c(){try{return n.storage.debug}catch(e){}if(void 0!==o&&"env"in o)return o.env.DEBUG}function l(){try{return window.localStorage}catch(e){}}(n=t.exports=e(2)).log=a,n.formatArgs=i,n.save=s,n.load=c,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},n.enable(c())}).call(this,e(12))},{12:12,2:2}],2:[function(e,t,n){function o(){return n.colors[u++%n.colors.length]}function r(e){function t(){}function r(){var e=r,t=+new Date,i=t-(l||t);e.diff=i,e.prev=l,e.curr=t,l=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=o());for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var c=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,o){if("%%"===t)return t;c++;var r=n.formatters[o];if("function"==typeof r){var i=a[c];t=r.call(e,i),a.splice(c,1),c--}return t}),a=n.formatArgs.apply(e,a),(r.log||n.log||console.log.bind(console)).apply(e,a)}t.enabled=!1,r.enabled=!0;var i=n.enabled(e)?r:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),o=t.length,r=0;r<o;r++)t[r]&&("-"===(e=t[r].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,o;for(t=0,o=n.skips.length;t<o;t++)if(n.skips[t].test(e))return!1;for(t=0,o=n.names.length;t<o;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}(n=t.exports=r.debug=r).coerce=c,n.disable=a,n.enable=i,n.enabled=s,n.humanize=e(9),n.names=[],n.skips=[],n.formatters={};var l,u=0},{9:9}],3:[function(t,n,o){(function(r,i){!function(t,r){"object"==typeof o&&void 0!==n?n.exports=r():"function"==typeof e&&e.amd?e(r):t.ES6Promise=r()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function o(e){K=e}function a(e){$=e}function s(){return function(){return r.nextTick(m)}}function c(){return void 0!==W?function(){W(m)}:d()}function l(){var e=0,t=new Q(m),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function u(){var e=new MessageChannel;return e.port1.onmessage=m,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(m,1)}}function m(){for(var e=0;e<V;e+=2){(0,te[e])(te[e+1]),te[e]=void 0,te[e+1]=void 0}V=0}function f(){try{var e=t("vertx");return W=e.runOnLoop||e.runOnContext,c()}catch(o){return d()}}function p(e,t){var n=arguments,o=this,r=new this.constructor(g);void 0===r[oe]&&j(r);var i=o._state;return i?function(){var e=n[i-1];$(function(){return N(i,r,e,o._result)})}():L(o,r,e,t),r}function h(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(g);return k(n,e),n}function g(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(t){return se.error=t,se}}function w(e,t,n,o){try{e.call(t,n,o)}catch(r){return r}}function _(e,t,n){$(function(e){var o=!1,r=w(n,t,function(n){o||(o=!0,t!==n?k(e,n):x(e,n))},function(t){o||(o=!0,S(e,t))},"Settle: "+(e._label||" unknown promise"));!o&&r&&(o=!0,S(e,r))},e)}function E(e,t){t._state===ie?x(e,t._result):t._state===ae?S(e,t._result):L(t,void 0,function(t){return k(e,t)},function(t){return S(e,t)})}function T(e,t,o){t.constructor===e.constructor&&o===p&&t.constructor.resolve===h?E(e,t):o===se?S(e,se.error):void 0===o?x(e,t):n(o)?_(e,t,o):x(e,t)}function k(t,n){t===n?S(t,y()):e(n)?T(t,n,b(n)):x(t,n)}function I(e){e._onerror&&e._onerror(e._result),B(e)}function x(e,t){e._state===re&&(e._result=t,e._state=ie,0!==e._subscribers.length&&$(B,e))}function S(e,t){e._state===re&&(e._state=ae,e._result=t,$(I,e))}function L(e,t,n,o){var r=e._subscribers,i=r.length;e._onerror=null,r[i]=t,r[i+ie]=n,r[i+ae]=o,0===i&&e._state&&$(B,e)}function B(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var o=void 0,r=void 0,i=e._result,a=0;a<t.length;a+=3)o=t[a],r=t[a+n],o?N(n,o,r,i):r(i);e._subscribers.length=0}}function C(){this.error=null}function A(e,t){try{return e(t)}catch(n){return ce.error=n,ce}}function N(e,t,o,r){var i=n(o),a=void 0,s=void 0,c=void 0,l=void 0;if(i){if((a=A(o,r))===ce?(l=!0,s=a.error,a=null):c=!0,t===a)return void S(t,v())}else a=r,c=!0;t._state!==re||(i&&c?k(t,a):l?S(t,s):e===ie?x(t,a):e===ae&&S(t,a))}function R(e,t){try{t(function(t){k(e,t)},function(t){S(e,t)})}catch(n){S(e,n)}}function O(){return le++}function j(e){e[oe]=le++,e._state=void 0,e._result=void 0,e._subscribers=[]}function P(e,t){this._instanceConstructor=e,this.promise=new e(g),this.promise[oe]||j(this.promise),X(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&x(this.promise,this._result))):S(this.promise,M())}function M(){return new Error("Array Methods must be provided an Array")}function H(e){return new P(this,e).promise}function D(e){var t=this;return new t(X(e)?function(n,o){for(var r=e.length,i=0;i<r;i++)t.resolve(e[i]).then(n,o)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function q(e){var t=new this(g);return S(t,e),t}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(e){this[oe]=O(),this._result=this._state=void 0,this._subscribers=[],g!==e&&("function"!=typeof e&&U(),this instanceof z?R(this,e):F())}function J(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var o=null;try{o=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===o&&!n.cast)return}e.Promise=z}var X=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},V=0,W=void 0,K=void 0,$=function(e,t){te[V]=e,te[V+1]=t,2===(V+=2)&&(K?K(m):ne())},Y="undefined"!=typeof window?window:void 0,G=Y||{},Q=G.MutationObserver||G.WebKitMutationObserver,Z="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),ee="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3),ne=void 0;ne=Z?s():Q?l():ee?u():void 0===Y&&"function"==typeof t?f():d();var oe=Math.random().toString(36).substring(16),re=void 0,ie=1,ae=2,se=new C,ce=new C,le=0;return P.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===re&&n<e;n++)this._eachEntry(t[n],n)},P.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,o=n.resolve;if(o===h){var r=b(e);if(r===p&&e._state!==re)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===z){var i=new n(g);T(i,e,r),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(o(e),t)},P.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===re&&(this._remaining--,e===ae?S(o,n):this._result[t]=n),0===this._remaining&&x(o,this._result)},P.prototype._willSettleAt=function(e,t){var n=this;L(e,void 0,function(e){return n._settledAt(ie,t,e)},function(e){return n._settledAt(ae,t,e)})},z.all=H,z.race=D,z.resolve=h,z.reject=q,z._setScheduler=o,z._setAsap=a,z._asap=$,z.prototype={constructor:z,then:p,"catch":function(e){return this.then(null,e)}},z.polyfill=J,z.Promise=z,z})}).call(this,t(12),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{12:12}],4:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function r(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(a(n=this._events[e]))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),r=(l=n.slice()).length,c=0;c<r;c++)l[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var r;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&((r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,a,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,r=-1,
n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(o(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],5:[function(e,t){var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString;t.exports=function(e,t,r){if("[object Function]"!==o.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)t.call(r,e[a],a,e);else for(var s in e)n.call(e,s)&&t.call(r,e[s],s,e)}},{}],6:[function(e,t){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],8:[function(e,t){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],9:[function(e,t){function n(e){if(!((e=String(e)).length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function o(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function r(e){return i(e,l,"day")||i(e,c,"hour")||i(e,s,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,c=60*s,l=24*c,u=365.25*l;t.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?r(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],10:[function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,r=Array.prototype.slice,i=e(11),a=Object.prototype.propertyIsEnumerable,s=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},d={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},m=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),f=function(e){if("undefined"==typeof window||!m)return u(e);try{return u(e)}catch(t){return!1}},p=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),a=i(e),u=t&&"[object String]"===o.call(e),d=[];if(!t&&!r&&!a)throw new TypeError("Object.keys called on a non-object");var m=c&&r;if(u&&e.length>0&&!n.call(e,0))for(var p=0;p<e.length;++p)d.push(String(p));if(a&&e.length>0)for(var h=0;h<e.length;++h)d.push(String(h));else for(var g in e)m&&"prototype"===g||!n.call(e,g)||d.push(String(g));if(s)for(var y=f(e),v=0;v<l.length;++v)y&&"constructor"===l[v]||!n.call(e,l[v])||d.push(l[v]);return d};p.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(i(t)?r.call(t):t)}}}else Object.keys=p;return Object.keys||p},t.exports=p},{11:11}],11:[function(e,t){"use strict";var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),o="[object Arguments]"===t;return o||(o="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),o}},{}],12:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){h&&f&&(h=!1,f.length?p=f.concat(p):g=-1,p.length&&s())}function s(){if(!h){var e=r(a);h=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,h=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u,d,m=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var f,p=[],h=!1,g=-1;m.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||h||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=l,m.addListener=l,m.once=l,m.off=l,m.removeListener=l,m.removeAllListeners=l,m.emit=l,m.binding=function(){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},{}],13:[function(e,t){"use strict";function n(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,a,s){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?n(i(e),function(i){var s=encodeURIComponent(o(i))+a;return r(e[i])?n(e[i],function(e){return s+encodeURIComponent(o(e))}).join(t):s+encodeURIComponent(o(e[i]))}).join(t):s?encodeURIComponent(o(s))+a+encodeURIComponent(o(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],14:[function(e,t){function n(){s.apply(this,arguments)}function o(){var e="Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com";throw new l.AlgoliaSearchError(e)}t.exports=n;var r=e(16),i=e(26),a=e(27),s=e(15),c=e(7),l=e(28);c(n,s),n.prototype.deleteIndex=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},n.prototype.moveIndex=function(e,t,n){var o={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:o,hostType:"write",callback:n})},n.prototype.copyIndex=function(e,t,n){var o={operation:"copy",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:o,hostType:"write",callback:n})},n.prototype.getLogs=function(t,n,o){var r=e(25),i={};return"object"==typeof t?(i=r(t),o=n):0===arguments.length||"function"==typeof t?o=t:1===arguments.length||"function"==typeof n?(o=n,i.offset=t):(i.offset=t,i.length=n),void 0===i.offset&&(i.offset=0),void 0===i.length&&(i.length=10),this._jsonRequest({method:"GET",url:"/1/logs?"+this._getSearchParams(i,""),hostType:"read",callback:o})},n.prototype.listIndexes=function(e,t){var n="";return void 0===e||"function"==typeof e?t=e:n="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+n,hostType:"read",callback:t})},n.prototype.initIndex=function(e){return new r(this,e)},n.prototype.listUserKeys=function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},n.prototype.getUserKeyACL=function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},n.prototype.deleteUserKey=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},n.prototype.addUserKey=function(t,n,o){var r="Usage: client.addUserKey(arrayOfAcls[, params, callback])";if(!e(8)(t))throw new Error(r);1!==arguments.length&&"function"!=typeof n||(o=n,n=null);var i={acl:t};return n&&(i.validity=n.validity,i.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,i.maxHitsPerQuery=n.maxHitsPerQuery,i.indexes=n.indexes,i.description=n.description,n.queryParameters&&(i.queryParameters=this._getSearchParams(n.queryParameters,"")),i.referers=n.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:i,hostType:"write",callback:o})},n.prototype.addUserKeyWithValidity=i(function(e,t,n){return this.addUserKey(e,t,n)},a("client.addUserKeyWithValidity()","client.addUserKey()")),n.prototype.updateUserKey=function(t,n,o,r){var i="Usage: client.updateUserKey(key, arrayOfAcls[, params, callback])";if(!e(8)(n))throw new Error(i);2!==arguments.length&&"function"!=typeof o||(r=o,o=null);var a={acl:n};return o&&(a.validity=o.validity,a.maxQueriesPerIPPerHour=o.maxQueriesPerIPPerHour,a.maxHitsPerQuery=o.maxHitsPerQuery,a.indexes=o.indexes,a.description=o.description,o.queryParameters&&(a.queryParameters=this._getSearchParams(o.queryParameters,"")),a.referers=o.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+t,body:a,hostType:"write",callback:r})},n.prototype.startQueriesBatch=i(function(){this._batch=[]},a("client.startQueriesBatch()","client.search()")),n.prototype.addQueryInBatch=i(function(e,t,n){this._batch.push({indexName:e,query:t,params:n})},a("client.addQueryInBatch()","client.search()")),n.prototype.sendQueriesBatch=i(function(e){return this.search(this._batch,e)},a("client.sendQueriesBatch()","client.search()")),n.prototype.batch=function(t,n){var o="Usage: client.batch(operations[, callback])";if(!e(8)(t))throw new Error(o);return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:t},hostType:"write",callback:n})},n.prototype.destroy=o,n.prototype.enableRateLimitForward=o,n.prototype.disableRateLimitForward=o,n.prototype.useSecuredAPIKey=o,n.prototype.disableSecuredAPIKey=o,n.prototype.generateSecuredApiKey=o},{15:15,16:16,25:25,26:26,27:27,28:28,7:7,8:8}],15:[function(e,t){(function(n){function o(t,n,o){var i=e(1)("algoliasearch"),a=e(25),s=e(8),l=e(30),u="Usage: algoliasearch(applicationID, apiKey, opts)";if(!0!==o._allowEmptyCredentials&&!t)throw new c.AlgoliaSearchError("Please provide an application ID. "+u);if(!0!==o._allowEmptyCredentials&&!n)throw new c.AlgoliaSearchError("Please provide an API key. "+u);this.applicationID=t,this.apiKey=n,this.hosts={read:[],write:[]};var d=(o=o||{}).protocol||"https:";if(this._timeouts=o.timeouts||{connect:1e3,read:2e3,write:3e4},o.timeout&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=o.timeout),/:$/.test(d)||(d+=":"),"http:"!==o.protocol&&"https:"!==o.protocol)throw new c.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+o.protocol+"`)");if(this._checkAppIdData(),o.hosts)s(o.hosts)?(this.hosts.read=a(o.hosts),this.hosts.write=a(o.hosts)):(this.hosts.read=a(o.hosts.read),this.hosts.write=a(o.hosts.write));else{var m=l(this._shuffleResult,function(e){return t+"-"+e+".algolianet.com"});this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(m),this.hosts.write=[this.applicationID+".algolia.net"].concat(m)}this.hosts.read=l(this.hosts.read,r(d)),this.hosts.write=l(this.hosts.write,r(d)),this.extraHeaders=[],this.cache=o._cache||{},this._ua=o._ua,this._useCache=!(void 0!==o._useCache&&!o._cache)||o._useCache,this._useFallback=void 0===o.useFallback||o.useFallback,this._setTimeout=o._setTimeout,i("init done, %j",this)}function r(e){return function(t){return e+"//"+t.toLowerCase()}}function i(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var n=JSON.stringify(e);return Array.prototype.toJSON=t,n}function a(e){for(var t,n,o=e.length;0!==o;)n=Math.floor(Math.random()*o),t=e[o-=1],e[o]=e[n],e[n]=t;return e}function s(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o;o="x-algolia-api-key"===n||"x-algolia-application-id"===n?"**hidden for security purposes**":e[n],t[n]=o}return t}t.exports=o;var c=e(28),l=e(29),u=e(18),d=e(34),m=500,f=n.env.RESET_APP_DATA_TIMER&&parseInt(n.env.RESET_APP_DATA_TIMER,10)||12e4;o.prototype.initIndex=function(e){return new u(this,e)},o.prototype.setExtraHeader=function(e,t){this.extraHeaders.push({name:e.toLowerCase(),value:t})},o.prototype.addAlgoliaAgent=function(e){-1===this._ua.indexOf(";"+e)&&(this._ua+=";"+e)},o.prototype._jsonRequest=function(t){function n(e,l){function m(e){var t=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;a("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,t,e.headers);var n=2===Math.floor(t/100),i=new Date;if(g.push({currentHost:E,headers:s(r),content:o||null,contentLength:void 0!==o?o.length:null,method:l.method,timeouts:l.timeouts,url:l.url,startTime:_,endTime:i,duration:i-_,statusCode:t}),n)return d._useCache&&u&&(u[w]=e.responseText),e.body;if(4!==Math.floor(t/100))return f+=1,v();a("unrecoverable error");var m=new c.AlgoliaSearchError(e.body&&e.body.message,{debugData:g,statusCode:t});return d._promise.reject(m)}function y(e){a("error: %s, stack: %s",e.message,e.stack);var n=new Date;return g.push({currentHost:E,headers:s(r),content:o||null,contentLength:void 0!==o?o.length:null,method:l.method,timeouts:l.timeouts,url:l.url,startTime:_,endTime:n,duration:n-_}),e instanceof c.AlgoliaSearchError||(e=new c.Unknown(e&&e.message,e)),f+=1,e instanceof c.Unknown||e instanceof c.UnparsableJSON||f>=d.hosts[t.hostType].length&&(p||!h)?(e.debugData=g,d._promise.reject(e)):e instanceof c.RequestTimeout?b():v()}function v(){return a("retrying request"),d._incrementHostIndex(t.hostType),n(e,l)}function b(){return a("retrying request with higher timeout"),d._incrementHostIndex(t.hostType),d._incrementTimeoutMultipler(),l.timeouts=d._getTimeoutsForRequest(t.hostType),n(e,l)}d._checkAppIdData();var w,_=new Date;if(d._useCache&&(w=t.url),d._useCache&&o&&(w+="_body_"+l.body),d._useCache&&u&&void 0!==u[w])return a("serving response from cache"),d._promise.resolve(JSON.parse(u[w]));if(f>=d.hosts[t.hostType].length)return!h||p?(a("could not get any response"),d._promise.reject(new c.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+d.applicationID,{debugData:g}))):(a("switching to fallback"),f=0,l.method=t.fallback.method,l.url=t.fallback.url,l.jsonBody=t.fallback.body,l.jsonBody&&(l.body=i(l.jsonBody)),r=d._computeRequestHeaders(),l.timeouts=d._getTimeoutsForRequest(t.hostType),d._setHostIndexByType(0,t.hostType),p=!0,n(d._request.fallback,l));var E=d._getHostByType(t.hostType),T=E+l.url,k={body:l.body,jsonBody:l.jsonBody,method:l.method,headers:r,timeouts:l.timeouts,debug:a};return a("method: %s, url: %s, headers: %j, timeouts: %d",k.method,T,k.headers,k.timeouts),e===d._request.fallback&&a("using fallback"),e.call(d,T,k).then(m,y)}this._checkAppIdData();var o,r,a=e(1)("algoliasearch:"+t.url),u=t.cache,d=this,f=0,p=!1,h=d._useFallback&&d._request.fallback&&t.fallback;this.apiKey.length>m&&void 0!==t.body&&(void 0!==t.body.params||void 0!==t.body.requests)?(t.body.apiKey=this.apiKey,r=this._computeRequestHeaders(!1)):r=this._computeRequestHeaders(),void 0!==t.body&&(o=i(t.body)),a("request start");var g=[],y=n(d._request,{url:t.url,method:t.method,body:o,jsonBody:t.body,timeouts:d._getTimeoutsForRequest(t.hostType)});return t.callback?void y.then(function(e){l(function(){t.callback(null,e)},d._setTimeout||setTimeout)},function(e){l(function(){t.callback(e)},d._setTimeout||setTimeout)}):y},o.prototype._getSearchParams=function(e,t){if(null==e)return t;for(var n in e)null!==n&&void 0!==e[n]&&e.hasOwnProperty(n)&&(t+=""===t?"":"&",t+=n+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[n])?i(e[n]):e[n]));return t},o.prototype._computeRequestHeaders=function(t){var n=e(5),o={"x-algolia-agent":this._ua,"x-algolia-application-id":this.applicationID};return!1!==t&&(o["x-algolia-api-key"]=this.apiKey),this.userToken&&(o["x-algolia-usertoken"]=this.userToken),this.securityTags&&(o["x-algolia-tagfilters"]=this.securityTags),this.extraHeaders&&n(this.extraHeaders,function(e){o[e.name]=e.value}),o},o.prototype.search=function(t,n,o){var r=e(8),i=e(30),a="Usage: client.search(arrayOfQueries[, callback])";if(!r(t))throw new Error(a);"function"==typeof n?(o=n,n={}):void 0===n&&(n={});var s=this,c={requests:i(t,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:s._getSearchParams(e.params,t)}})},l=i(c.requests,function(e,t){return t+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(e.indexName)+"?"+e.params)}).join("&"),u="/1/indexes/*/queries";return void 0!==n.strategy&&(u+="?strategy="+n.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:u,body:c,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:l}},callback:o})},o.prototype.setSecurityTags=function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],n=0;n<e.length;++n)if("[object Array]"===Object.prototype.toString.call(e[n])){for(var o=[],r=0;r<e[n].length;++r)o.push(e[n][r]);t.push("("+o.join(",")+")")}else t.push(e[n]);e=t.join(",")}this.securityTags=e},o.prototype.setUserToken=function(e){this.userToken=e},o.prototype.clearCache=function(){this.cache={}},o.prototype.setRequestTimeout=function(e){e&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=e)},o.prototype.setTimeouts=function(e){this._timeouts=e},o.prototype.getTimeouts=function(){return this._timeouts},o.prototype._getAppIdData=function(){var e=d.get(this.applicationID);return null!==e&&this._cacheAppIdData(e),e},o.prototype._setAppIdData=function(e){return e.lastChange=(new Date).getTime(),this._cacheAppIdData(e),d.set(this.applicationID,e)},o.prototype._checkAppIdData=function(){var e=this._getAppIdData(),t=(new Date).getTime();return null===e||t-e.lastChange>f?this._resetInitialAppIdData(e):e},o.prototype._resetInitialAppIdData=function(e){var t=e||{};return t.hostIndexes={read:0,write:0},t.timeoutMultiplier=1,t.shuffleResult=t.shuffleResult||a([1,2,3]),this._setAppIdData(t)},o.prototype._cacheAppIdData=function(e){this._hostIndexes=e.hostIndexes,this._timeoutMultiplier=e.timeoutMultiplier,this._shuffleResult=e.shuffleResult},o.prototype._partialAppIdDataUpdate=function(t){var n=e(5),o=this._getAppIdData();return n(t,function(e,t){o[t]=e}),this._setAppIdData(o)},o.prototype._getHostByType=function(e){return this.hosts[e][this._getHostIndexByType(e)]},o.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier},o.prototype._getHostIndexByType=function(e){return this._hostIndexes[e]},o.prototype._setHostIndexByType=function(t,n){var o=e(25)(this._hostIndexes);return o[n]=t,this._partialAppIdDataUpdate({hostIndexes:o}),t},o.prototype._incrementHostIndex=function(e){return this._setHostIndexByType((this._getHostIndexByType(e)+1)%this.hosts[e].length,e)},o.prototype._incrementTimeoutMultipler=function(){var e=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:e})},o.prototype._getTimeoutsForRequest=function(e){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[e]*this._timeoutMultiplier}}}).call(this,e(12))},{1:1,12:12,18:18,25:25,28:28,29:29,30:30,34:34,5:5,8:8}],16:[function(e,t){function n(){r.apply(this,arguments)}var o=e(7),r=e(18),i=e(26),a=e(27),s=e(29),c=e(28);t.exports=n,o(n,r),n.prototype.addObject=function(e,t,n){var o=this;return 1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:n})},n.prototype.addObjects=function(t,n){var o="Usage: index.addObjects(arrayOfObjects[, callback])";if(!e(8)(t))throw new Error(o);for(var r=this,i={requests:[]},a=0;a<t.length;++a){var s={action:"addObject",body:t[a]};i.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/batch",body:i,hostType:"write",callback:n})},n.prototype.partialUpdateObject=function(e,t,n){1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0);var o="/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial";return!1===t&&(o+="?createIfNotExists=false"),this.as._jsonRequest({method:"POST",url:o,body:e,hostType:"write",callback:n})},n.prototype.partialUpdateObjects=function(t,n){var o="Usage: index.partialUpdateObjects(arrayOfObjects[, callback])";if(!e(8)(t))throw new Error(o);for(var r=this,i={requests:[]},a=0;a<t.length;++a){var s={action:"partialUpdateObject",objectID:t[a].objectID,body:t[a]};i.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/batch",body:i,hostType:"write",callback:n})},n.prototype.saveObject=function(e,t){var n=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},n.prototype.saveObjects=function(t,n){var o="Usage: index.saveObjects(arrayOfObjects[, callback])";if(!e(8)(t))throw new Error(o);for(var r=this,i={requests:[]},a=0;a<t.length;++a){var s={action:"updateObject",objectID:t[a].objectID,body:t[a]};i.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/batch",body:i,hostType:"write",callback:n})},n.prototype.deleteObject=function(e,t){if("function"==typeof e||"string"!=typeof e&&"number"!=typeof e){var n=new c.AlgoliaSearchError("Cannot delete an object without an objectID");return"function"==typeof(t=e)?t(n):this.as._promise.reject(n)}var o=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},n.prototype.deleteObjects=function(t,n){var o=e(8),r=e(30),i="Usage: index.deleteObjects(arrayOfObjectIDs[, callback])";if(!o(t))throw new Error(i);var a=this,s={requests:r(t,function(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a.indexName)+"/batch",body:s,hostType:"write",callback:n})},n.prototype.deleteByQuery=function(t,n,o){function r(e){if(0===e.nbHits)return e;var t=d(e.hits,function(e){return e.objectID});return m.deleteObjects(t).then(i).then(a)}function i(e){return m.waitTask(e.taskID)}function a(){return m.deleteByQuery(t,n)}function c(){s(function(){o(null)},f._setTimeout||setTimeout)}function l(e){s(function(){o(e)},f._setTimeout||setTimeout)}var u=e(25),d=e(30),m=this,f=m.as;1===arguments.length||"function"==typeof n?(o=n,n={}):n=u(n),n.attributesToRetrieve="objectID",n.hitsPerPage=1e3,n.distinct=!1,this.clearCache();var p=this.search(t,n).then(r);return o?void p.then(c,l):p},n.prototype.browseAll=function(t,n){function o(e){var t;a._stopped||(t=void 0!==e?"cursor="+encodeURIComponent(e):l,s._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/browse?"+t,hostType:"read",callback:r}))}function r(e,t){if(!a._stopped)return e?void a._error(e):(a._result(t),void 0===t.cursor?void a._end():void o(t.cursor))}"object"==typeof t&&(n=t,t=void 0);var i=e(31),a=new(e(17)),s=this.as,c=this,l=s._getSearchParams(i({},n||{},{query:t}),"");return o(),a},n.prototype.ttAdapter=function(e){var t=this;return function(n,o,r){var i;i="function"==typeof r?r:o,t.search(n,e,function(e,t){return e?void i(e):void i(t.hits)})}},n.prototype.waitTask=function(e,t){function n(){return u._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(l.indexName)+"/task/"+e}).then(function(e){var t=i*++c*c;return t>a&&(t=a),"published"!==e.status?u._promise.delay(t).then(n):e})}function o(e){s(function(){t(null,e)},u._setTimeout||setTimeout)}function r(e){s(function(){t(e)},u._setTimeout||setTimeout)}var i=100,a=5e3,c=0,l=this,u=l.as,d=n();return t?void d.then(o,r):d},n.prototype.clearIndex=function(e){var t=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",hostType:"write",callback:e})},n.prototype.getSettings=function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/settings?getVersion=2",hostType:"read",callback:e})},n.prototype.searchSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/search",body:e,hostType:"read",callback:t})},n.prototype.saveSynonym=function(e,t,n){return"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e.objectID)+"?forwardToSlaves="+(t.forwardToSlaves?"true":"false"),body:e,hostType:"write",callback:n})},n.prototype.getSynonym=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e),hostType:"read",callback:t})},n.prototype.deleteSynonym=function(e,t,n){return"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e)+"?forwardToSlaves="+(t.forwardToSlaves?"true":"false"),hostType:"write",callback:n})},n.prototype.clearSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/clear?forwardToSlaves="+(e.forwardToSlaves?"true":"false"),hostType:"write",callback:t})},n.prototype.batchSynonyms=function(e,t,n){return"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/batch?forwardToSlaves="+(t.forwardToSlaves?"true":"false")+"&replaceExistingSynonyms="+(t.replaceExistingSynonyms?"true":"false"),hostType:"write",body:e,callback:n})},n.prototype.setSettings=function(e,t,n){1!==arguments.length&&"function"!=typeof t||(n=t,t={});var o=t.forwardToSlaves||!1,r=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/settings?forwardToSlaves="+(o?"true":"false"),hostType:"write",body:e,callback:n})},n.prototype.listUserKeys=function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",hostType:"read",callback:e})},n.prototype.getUserKeyACL=function(e,t){var n=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"read",callback:t})},n.prototype.deleteUserKey=function(e,t){var n=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"write",callback:t})},n.prototype.addUserKey=function(t,n,o){var r="Usage: index.addUserKey(arrayOfAcls[, params, callback])";if(!e(8)(t))throw new Error(r);1!==arguments.length&&"function"!=typeof n||(o=n,n=null);var i={acl:t};return n&&(i.validity=n.validity,i.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,i.maxHitsPerQuery=n.maxHitsPerQuery,i.description=n.description,n.queryParameters&&(i.queryParameters=this.as._getSearchParams(n.queryParameters,"")),i.referers=n.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:i,hostType:"write",callback:o})},n.prototype.addUserKeyWithValidity=i(function(e,t,n){return this.addUserKey(e,t,n)},a("index.addUserKeyWithValidity()","index.addUserKey()")),n.prototype.updateUserKey=function(t,n,o,r){var i="Usage: index.updateUserKey(key, arrayOfAcls[, params, callback])";if(!e(8)(n))throw new Error(i);2!==arguments.length&&"function"!=typeof o||(r=o,o=null);var a={acl:n};return o&&(a.validity=o.validity,a.maxQueriesPerIPPerHour=o.maxQueriesPerIPPerHour,a.maxHitsPerQuery=o.maxHitsPerQuery,a.description=o.description,o.queryParameters&&(a.queryParameters=this.as._getSearchParams(o.queryParameters,"")),a.referers=o.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+t,body:a,hostType:"write",callback:r})}},{17:17,18:18,25:25,26:26,27:27,28:28,29:29,30:30,31:31,7:7,8:8}],17:[function(e,t){"use strict";function n(){}t.exports=n,e(7)(n,e(4).EventEmitter),n.prototype.stop=function(){this._stopped=!0,this._clean()},n.prototype._end=function(){this.emit("end"),this._clean()},n.prototype._error=function(e){this.emit("error",e),this._clean()},n.prototype._result=function(e){this.emit("result",e)},n.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},{4:4,7:7}],18:[function(e,t){function n(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}var o=e(24),r=e(26),i=e(27);t.exports=n,n.prototype.clearCache=function(){this.cache={}},n.prototype.search=o("query"),n.prototype.similarSearch=o("similarQuery"),n.prototype.browse=function(t,n,o){var r,i,a=e(31),s=this;0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(r=0,o=arguments[0],t=void 0):"number"==typeof arguments[0]?(r=arguments[0],"number"==typeof arguments[1]?i=arguments[1]:"function"==typeof arguments[1]&&(o=arguments[1],i=void 0),t=void 0,n=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(o=arguments[1]),n=arguments[0],t=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(o=arguments[1],n=void 0),n=a({},n||{},{page:r,hitsPerPage:i,query:t});var c=this.as._getSearchParams(n,"");return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/browse?"+c,hostType:"read",callback:o})},n.prototype.browseFrom=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse?cursor="+encodeURIComponent(e),hostType:"read",callback:t})},n.prototype.searchForFacetValues=function(t,n){var o=e(25),r=e(32),i="Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])";if(void 0===t.facetName||void 0===t.facetQuery)throw new Error(i);var a=t.facetName,s=r(o(t),function(e){return"facetName"===e}),c=this.as._getSearchParams(s,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/facets/"+encodeURIComponent(a)+"/query",hostType:"read",body:{params:c},callback:n})},n.prototype.searchFacet=r(function(e,t){
return this.searchForFacetValues(e,t)},i("index.searchFacet(params[, callback])","index.searchForFacetValues(params[, callback])")),n.prototype._search=function(e,t,n){return this.as._jsonRequest({cache:this.cache,method:"POST",url:t||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:n})},n.prototype.getObject=function(e,t,n){var o=this;1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0);var r="";if(void 0!==t){r="?attributes=";for(var i=0;i<t.length;++i)0!==i&&(r+=","),r+=t[i]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/"+encodeURIComponent(e)+r,hostType:"read",callback:n})},n.prototype.getObjects=function(t,n,o){var r=e(8),i=e(30),a="Usage: index.getObjects(arrayOfObjectIDs[, callback])";if(!r(t))throw new Error(a);var s=this;1!==arguments.length&&"function"!=typeof n||(o=n,n=void 0);var c={requests:i(t,function(e){var t={indexName:s.indexName,objectID:e};return n&&(t.attributesToRetrieve=n.join(",")),t})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:c,callback:o})},n.prototype.as=null,n.prototype.indexName=null,n.prototype.typeAheadArgs=null,n.prototype.typeAheadValueOption=null},{24:24,25:25,26:26,27:27,30:30,31:31,32:32,8:8}],19:[function(e,t){"use strict";var n=e(14),o=e(20);t.exports=o(n)},{14:14,20:20}],20:[function(e,t){(function(n){"use strict";var o=e(6),r=o.Promise||e(3).Promise;t.exports=function(t,i){function a(t,n,o){var r=e(25),i=e(21);return void 0===(o=r(o||{})).protocol&&(o.protocol=i()),o._ua=o._ua||a.ua,new s(t,n,o)}function s(){t.apply(this,arguments)}var c=e(7),l=e(28),u=e(22),d=e(23),m=e(33);i=i||"","debug"===n.env.NODE_ENV&&e(1).enable("algoliasearch*"),a.version=e(35),a.ua="Algolia for vanilla JavaScript "+i+a.version,a.initPlaces=m(a),o.__algolia={debug:e(1),algoliasearch:a};var f={hasXMLHttpRequest:"XMLHttpRequest"in o,hasXDomainRequest:"XDomainRequest"in o};return f.hasXMLHttpRequest&&(f.cors="withCredentials"in new XMLHttpRequest),c(s,t),s.prototype._request=function(e,t){return new r(function(n,o){function r(){if(!p){var e;clearTimeout(m);try{e={body:JSON.parse(g.responseText),responseText:g.responseText,statusCode:g.status,headers:g.getAllResponseHeaders&&g.getAllResponseHeaders()||{}}}catch(t){e=new l.UnparsableJSON({more:g.responseText})}e instanceof l.UnparsableJSON?o(e):n(e)}}function i(e){p||(clearTimeout(m),o(new l.Network({more:e})))}function a(){p=!0,g.abort(),o(new l.RequestTimeout)}function s(){y=!0,clearTimeout(m),m=setTimeout(a,t.timeouts.complete)}function c(){y||s()}function d(){!y&&g.readyState>1&&s()}if(f.cors||f.hasXDomainRequest){e=u(e,t.headers);var m,p,h=t.body,g=f.cors?new XMLHttpRequest:new XDomainRequest,y=!1;m=setTimeout(a,t.timeouts.connect),g.onprogress=c,"onreadystatechange"in g&&(g.onreadystatechange=d),g.onload=r,g.onerror=i,g instanceof XMLHttpRequest?g.open(t.method,e,!0):g.open(t.method,e),f.cors&&(h&&("POST"===t.method?g.setRequestHeader("content-type","application/x-www-form-urlencoded"):g.setRequestHeader("content-type","application/json")),g.setRequestHeader("accept","application/json")),g.send(h)}else o(new l.Network("CORS not supported"))})},s.prototype._request.fallback=function(e,t){return e=u(e,t.headers),new r(function(n,o){d(e,t,function(e,t){return e?void o(e):void n(t)})})},s.prototype._promise={reject:function(e){return r.reject(e)},resolve:function(e){return r.resolve(e)},delay:function(e){return new r(function(t){setTimeout(t,e)})}},a}}).call(this,e(12))},{1:1,12:12,21:21,22:22,23:23,25:25,28:28,3:3,33:33,35:35,6:6,7:7}],21:[function(e,t){"use strict";function n(){var e=window.document.location.protocol;return"http:"!==e&&"https:"!==e&&(e="http:"),e}t.exports=n},{}],22:[function(e,t){"use strict";function n(e,t){return(e+=/\?/.test(e)?"&":"?")+o(t)}t.exports=n;var o=e(13)},{13:13}],23:[function(e,t){"use strict";function n(e,t,n){function i(){t.debug("JSONP: success"),g||m||(g=!0,d||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),s(),n(new o.JSONPScriptFail)))}function a(){"loaded"!==this.readyState&&"complete"!==this.readyState||i()}function s(){clearTimeout(y),p.onload=null,p.onreadystatechange=null,p.onerror=null,f.removeChild(p)}function c(){try{delete window[h],delete window[h+"_loaded"]}catch(e){window[h]=window[h+"_loaded"]=void 0}}function l(){t.debug("JSONP: Script timeout"),m=!0,s(),n(new o.RequestTimeout)}function u(){t.debug("JSONP: Script error"),g||m||(s(),n(new o.JSONPScriptError))}if("GET"===t.method){t.debug("JSONP: start");var d=!1,m=!1;r+=1;var f=document.getElementsByTagName("head")[0],p=document.createElement("script"),h="algoliaJSONP_"+r,g=!1;window[h]=function(e){return c(),m?void t.debug("JSONP: Late answer, ignoring"):(d=!0,s(),void n(null,{body:e}))},e+="&callback="+h,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var y=setTimeout(l,t.timeouts.complete);p.onreadystatechange=a,p.onload=i,p.onerror=u,p.async=!0,p.defer=!0,p.src=e,f.appendChild(p)}else n(new Error("Method "+t.method+" "+e+" is not supported by JSONP."))}t.exports=n;var o=e(28),r=0},{28:28}],24:[function(e,t){function n(e,t){return function(n,r,i){if("function"==typeof n&&"object"==typeof r||"object"==typeof i)throw new o.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof n?(i=n,n=""):1!==arguments.length&&"function"!=typeof r||(i=r,r=void 0),"object"==typeof n&&null!==n?(r=n,n=void 0):null!=n||(n="");var a="";return void 0!==n&&(a+=e+"="+encodeURIComponent(n)),void 0!==r&&(a=this.as._getSearchParams(r,a)),this._search(a,t,i)}}t.exports=n;var o=e(28)},{28:28}],25:[function(e,t){t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],26:[function(e,t){t.exports=function(e,t){function n(){return o||(console.log(t),o=!0),e.apply(this,arguments)}var o=!1;return n}},{}],27:[function(e,t){t.exports=function(e,t){return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+e.toLowerCase().replace(".","").replace("()","")}},{}],28:[function(e,t){"use strict";function n(t,n){var o=e(5),r=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):r.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=t||"Unknown error",n&&o(n,function(e,t){r[t]=e})}function o(e,t){function o(){var o=Array.prototype.slice.call(arguments,0);"string"!=typeof o[0]&&o.unshift(t),n.apply(this,o),this.name="AlgoliaSearch"+e+"Error"}return r(o,n),o}var r=e(7);r(n,Error),t.exports={AlgoliaSearchError:n,UnparsableJSON:o("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:o("RequestTimeout","Request timedout before getting a response"),Network:o("Network","Network issue, see err.more for details"),JSONPScriptFail:o("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:o("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:o("Unknown","Unknown error occured")}},{5:5,7:7}],29:[function(e,t){t.exports=function(e,t){t(e,0)}},{}],30:[function(e,t){var n=e(5);t.exports=function(e,t){var o=[];return n(e,function(n,r){o.push(t(n,r,e))}),o}},{5:5}],31:[function(e,t){var n=e(5);t.exports=function o(e){var t=Array.prototype.slice.call(arguments);return n(t,function(t){for(var n in t)t.hasOwnProperty(n)&&("object"==typeof e[n]&&"object"==typeof t[n]?e[n]=o({},e[n],t[n]):void 0!==t[n]&&(e[n]=t[n]))}),e}},{5:5}],32:[function(e,t){t.exports=function(t,n){var o=e(10),r=e(5),i={};return r(o(t),function(e){!0!==n(e)&&(i[e]=t[e])}),i}},{10:10,5:5}],33:[function(e,t){function n(t){return function(n,r,i){var a=e(25);(i=i&&a(i)||{}).hosts=i.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"],0!==arguments.length&&"object"!=typeof n&&void 0!==n||(n="",r="",i._allowEmptyCredentials=!0);var s=t(n,r,i).initIndex("places");return s.search=o("query","/1/places/query"),s}}t.exports=n;var o=e(24)},{24:24,25:25}],34:[function(e,t){(function(n){function o(e,t){return 1===arguments.length?a.get(e):a.set(e,t)}function r(){try{return"localStorage"in n&&null!==n.localStorage&&!n.localStorage[c]&&(n.localStorage.setItem(c,JSON.stringify({})),!0)}catch(e){return!1}}function i(){try{n.localStorage.removeItem(c)}catch(e){}}var a,s=e(1)("algoliasearch:src/hostIndexState.js"),c="algoliasearch-client-js",l={state:{},set:function(e,t){return this.state[e]=t,this.state[e]},get:function(e){return this.state[e]||null}},u={set:function(e,t){try{var o=JSON.parse(n.localStorage[c]);return o[e]=t,n.localStorage[c]=JSON.stringify(o),o[e]}catch(r){return s("localStorage set failed with",r),i(),(a=l).set(e,t)}},get:function(e){return JSON.parse(n.localStorage[c])[e]||null}};a=r()?u:l,t.exports={get:o,set:o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],35:[function(e,t){"use strict";t.exports="3.20.3"},{}]},{},[19])(19)});var instantClick,InstantClick=instantClick=function(e,t,n){function o(e){var t=e.indexOf("#");return t<0?e:e.substr(0,t)}function r(e){for(;e&&"A"!=e.nodeName;)e=e.parentNode;return e}function i(e){do{if(!e.hasAttribute)break;if(e.hasAttribute("data-instant"))return!1;if(e.hasAttribute("data-no-instant"))return!0}while(e=e.parentNode);return!1}function a(e){var n=t.protocol+"//"+t.host;return!(e.target||e.hasAttribute("download")||0!=e.href.indexOf(n+"/")||e.href.indexOf("#")>-1&&o(e.href)==S||i(e))}function s(e,t,n,o){for(var r=!1,i=0;i<z[e].length;i++)if("receive"==e){var a=z[e][i](t,n,o);a&&("body"in a&&(n=a.body),"title"in a&&(o=a.title),r=a)}else z[e][i](t,n,o);return r}function c(t,n,r,i,a){var c=e.getElementById("page-content");if(e.getElementById("navigation-butt")&&e.getElementById("navigation-butt").classList.remove("showing"),e.getElementsByTagName("BODY")[0].replaceChild(n,c),e.getElementById("navigation-progress").classList.remove("showing"),r){history.pushState(null,null,r.replace("?samepage=true","").replace("&samepage=true",""));var l=r.indexOf("#"),u=l>-1&&e.getElementById(r.substr(l+1)),d=0,m=r.indexOf("samepage=true")>-1;if(u)for(;u.offsetParent;)d+=u.offsetTop,u=u.offsetParent;m||scrollTo(0,d),S=o(r)}else scrollTo(0,i);O&&e.title==t?e.title=t+String.fromCharCode(160):e.title=t,b(),a?s("restore"):s("change",!1)}function l(){q=!1,U=!1}function u(e){return e.replace(/<noscript[\s\S]+?<\/noscript>/gi,"")}function d(e){if(!(C>+new Date-500)){var t=r(e.target);t&&a(t)&&w(t.href)}}function m(e){if(!(C>+new Date-500)){var t=r(e.target);t&&a(t)&&(t.addEventListener("mouseout",h),R?(L=t.href,B=setTimeout(w,R)):w(t.href),getImageForLink(t))}}function f(e){C=+new Date;var t=r(e.target);t&&a(t)&&(N?t.removeEventListener("mousedown",d):t.removeEventListener("mouseover",m),w(t.href),getImageForLink(t))}function p(e){try{var t=r(e.target);if(!t||!a(t))return;if(e.which>1||e.metaKey||e.ctrlKey)return;if(T(t.href),e.preventDefault(),window.ga&&ga.create&&t.hasAttribute("data-featured-article")){var n=t.dataset.featuredArticle;ga("send","event","click","featured-feed-click",n,null)}}catch(o){console.log(o)}}function h(){if(B)return clearTimeout(B),void(B=!1);q&&!U&&(A.abort(),l())}function g(){y(A,P)}function y(t,n){if(!(t.readyState<4)&&0!=t.status){if(D.ready=+new Date-D.start,e.getElementById("page-content")&&200===t.status&&t.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var r=e.implementation.createHTMLDocument("");r.documentElement.innerHTML=u(t.responseText);var i=r.title,a=r.getElementById("page-content"),c=s("receive",n,a,i);c&&("body"in c&&(a=c.body),"title"in c&&(i=c.title)),H[n]={body:a,title:i};o(n);for(var l,d,m=r.head.children,f=0,p=0;p<m.length;p++)if((l=m[p]).hasAttribute("data-instant-track")){d=l.getAttribute("href")||l.getAttribute("src")||l.innerHTML;for(var h=0;h<F.length;h++)F[h]==d&&f++}f!=F.length&&(M=!0)}else M=!0;U&&P===n&&(U=!1,T(P))}}function v(){var n=o(t.href);n!=S&&(n in j?(j[S]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset},S=n,c(j[n].title,j[n].body,!1,j[n].scrollY,!0)):t.href=t.href)}function b(t){if(e.body&&(e.body.addEventListener("touchstart",f,!0),N?e.body.addEventListener("mousedown",d,!0):e.body.addEventListener("mouseover",m,!0),e.body.addEventListener("click",p,!0)),!t)for(var n,o,r,i,a=e.body.getElementsByTagName("script"),s=0,c=a.length;s<c;s++)(n=a[s]).hasAttribute("data-no-instant")||(o=e.createElement("script"),n.src&&(o.src=n.src),n.innerHTML&&(o.innerHTML=n.innerHTML),r=n.parentNode,i=n.nextSibling,r.removeChild(n),r.insertBefore(o,i))}function w(e,t){if(!(!N&&"display"in D&&+new Date-(D.start+D.display)<100)&&(B&&(clearTimeout(B),B=!1),e||(e=L),!q||e!=P&&!U)){if(q=!0,U=!1,M=!1,D={start:+new Date},-1==e.indexOf("?"))var n=e+"?i=i";else n=e+"&i=i";_(),s("fetch"),H[e]||("force"===t?E(e,function(){y(this,e)}):(P=e,A.open("GET",n),A.send()))}}function _(e){(Object.keys(H).length>13||"force"==e)&&(H={})}function E(e,t){var n=new XMLHttpRequest;if(-1==e.indexOf("?"))var o=e+"?i=i";else o=e+"&i=i";n.open("GET",o,!0),n.onreadystatechange=function(){4==n.readyState&&"function"==typeof t&&t.apply(n)},n.send()}function T(n){if(P=n,H[n])var o=H[n].body,r=H[n].title;else e.getElementById("navigation-progress").classList.add("showing");if("display"in D||(D.display=+new Date-D.start),B||!q)return B&&P&&P!=n?void(t.href=n):(w(n),s("wait"),void(U=!0));if(U)t.href=n;else if(M)t.href=P;else{if(!o)return s("wait"),void(U=!0);j[S]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset},l(),c(r,o,P)}}function k(n){if(!S)if(J){"mousedown"==n?N=!0:"number"==typeof n&&(R=n),S=o(t.href),j[S]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset};for(var r,i,a=e.head.children,c=0;c<a.length;c++)(r=a[c]).hasAttribute("data-instant-track")&&(i=r.getAttribute("href")||r.getAttribute("src")||r.innerHTML,F.push(i));(A=new XMLHttpRequest).addEventListener("readystatechange",g),b(!0),s("change",!0),addEventListener("popstate",v),x()}else s("change",!0)}function I(e,t){z[e].push(t)}function x(){if("ontouchstart"in e.documentElement){var t=e.createElement("script");t.src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/lib/pulltorefresh-3c437bc4ceb3e994b3d136ca7127bff6690e963445fb1c3ab28b93c3e84ecd7c.js",e.head.appendChild(t);var n=setInterval(function(){if("undefined"!=typeof PullToRefresh){PullToRefresh.init({mainElement:"body",passive:!0,onRefresh:function(){window.location.reload()}});clearInterval(n)}},1)}}var S,L,B,C,A,N,R,O=n.indexOf(" CriOS/")>-1,j={},P=!1,M=!1,H={},D={},q=!1,U=!1,F=[],z={fetch:[],receive:[],wait:[],change:[],restore:[]},J="pushState"in history&&(!n.match("Android")||n.match("Chrome/")||n.match("Firefox/"))&&"file:"!=t.protocol;return{supported:J,init:k,isPreloadable:a,preload:w,removeExpiredKeys:_,display:T,on:I}}(document,location,navigator.userAgent);Honeybadger.configure({apiKey:"a45862f6",environment:"production",revision:"cc6249beff9b4c8f567979f72dd964063ea9ef00"}),initializeBaseApp();